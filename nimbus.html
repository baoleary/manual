<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenStack Clouds &mdash; Cloud Computing Book 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cloud Computing Book 0.1 documentation" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="index.html">Contents</a>
        <span class="navbar-text pull-left"><b>0.1</b></span>

        <div class="nav-collapse">
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul>
<li class="toctree-l1"><a class="reference internal" href="plan.html">1. Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="title.html">2.   Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="todolist.html">3. Todo List</a></li>
<li class="toctree-l1"><a class="reference internal" href="preface.html">4. Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preface.html#citation-for-publications">4.1. Citation for Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#acknowledgement">4.2. Acknowledgement</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#sponsors">4.3. Sponsors</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#about-this-manual">4.4. About this Manual</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">5. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#executive-summary">5.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#project-and-account-application">5.2. Project and Account Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#services">5.3. Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#hardware">5.4. Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#support">5.5. Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="account.html">6. Account</a><ul>
<li class="toctree-l2"><a class="reference internal" href="account.html#step-1-create-a-futuregrid-portal-account">6.1. Step 1: Create a FutureGrid Portal Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#step-2-create-a-new-project-or-join-an-existing-one">6.2. Step 2: Create a new Project or join an existing one</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#step-3-upload-your-ssh-public-key-s">6.3. Step 3: Upload Your SSH Public Key(s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#account-management-service">6.4. Account Management Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#key-reset-or-adding-new-keys">6.5. Key Reset or Adding new Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#creating-an-hpc-account">6.6. Creating an HPC account</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#resetting-a-ssh-key">6.7. Resetting a ssh-key</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#nimbus-eucalyptus-openstack">6.8. Nimbus, Eucalyptus, OpenStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">7. Accessing FutureGrid resources via SSH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#requirement-for-windows-users">7.1. Requirement for Windows Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#instructions-for-both-windows-and-unix-users">7.2. Instructions for both Windows and Unix users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html#generating-ssh-keys-for-futuregrid-access">8. Generating SSH Keys for FutureGrid Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html#key-generation">9. Key Generation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#generate-public-private-key-pair">9.1. Generate Public/Private Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#list-the-result">9.2. List the result</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#add-or-replace-passphrase-for-an-already-generated-key">9.3. Add or Replace Passphrase for an Already Generated Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#capture-the-public-key-for-futuregrid">9.4. Capture the Public Key for FutureGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#key-management">9.5. Key Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#resetting-the-ssh-key">9.6. Resetting the SSH key</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">10. Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#compute-networks">10.1. Compute Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#network">10.2. Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#storage-service">10.3. Storage Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#status">10.4. Status</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.html">11. HPC Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#accessing-systems">11.1. Accessing Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#filesystem-layout">11.2. Filesystem Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#modules">11.3. Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#managing-applications-with-torque">11.4. Managing Applications with Torque</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#message-passing-interface-mpi">11.5. Message Passing Interface (MPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#mpi-libraries">11.6. MPI Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#compiling-mpi-applications">11.7. Compiling MPI Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#running-mpi-applications">11.8. Running MPI Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.html#log-in-to-hpc-services">12. Log in to HPC services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#i-still-can-not-access-fg-resources">12.1. I still can not access FG resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.html#working-with-hpc-job-services">13. Working with HPC Job Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#running-queued-jobs-as-part-of-the-hpc-services">13.1. Running Queued Jobs as Part of the HPC Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#monitoring-your-job">13.2. Monitoring Your Job</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#examining-your-job-output">13.3. Examining Your Job Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#xray-hpc-services">13.4. Xray HPC Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html">14. Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#step-4-explore-the-documentation">14.1. Step 4: Explore the Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#training-and-education">14.2. Training and Education</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#guide-to-using-the-futuregrid-portal">15. Guide to Using the FutureGrid Portal</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#functions-of-the-futuregrid-portal">15.1. Functions of the FutureGrid Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#a-futuregrid-user-dashboard">15.2. A FutureGrid User Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#update-project-information-and-add-results">15.3. Update Project Information and Add Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#contribute-to-the-futuregrid-community">15.4. Contribute to the FutureGrid Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#file-upload-and-attachment-to-a-page">15.5. File Upload and Attachment to a Page</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#alamo">16. Alamo</a></li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#iaas-infrastructure-as-a-service">17. IaaS - Infrastructure as a Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#using-iaas-clouds-on-futuregrid">18. Using IaaS Clouds on FutureGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#management-services">19. Management Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="part-2.html">20. Part 2 - OTHER STUFF</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">21. Building the Book</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#virtualenv">21.1. Virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#theme">21.2. Theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#autorun">21.3. Autorun</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python.html">22. Just Enough Python for the Cloud</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python.html#terminal">22.1. Terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#os-specific">22.2. OS Specific</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#lanaguage-features">22.3. Lanaguage Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#local">22.4. Local</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#ecosystem">22.5. Ecosystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#excersises">22.6. Excersises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="git.html">23. Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="openstack.html">24. OpenStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#get-a-cloud-account">24.1. Get a cloud account</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#commandline-clients">24.2. commandline clients</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="eucalyptus.html">25. Eucalyptus on FutureGrid</a><ul>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#requirements">25.1. Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#account-creation">25.2. Account Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#resources-overview">25.3. Resources Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#testing-your-setup">25.4. Testing Your Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-deployment">25.5. Image Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#logging-into-the-vm">25.6. Logging Into the VM</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#vm-network-info">25.7. VM Network Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-management">25.8. Image Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#status-of-deployments">25.9. Status of Deployments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="india.html">26. India on  FutureGrid</a></li>
</ul>
</ul>
</li>
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">OpenStack Clouds</a></li>
<li><a class="reference internal" href="#eucalyptus-clouds">Eucalyptus Clouds</a></li>
<li><a class="reference internal" href="#virtual-appliances-for-training-and-education">Virtual Appliances for Training and Education</a><ul>
<li><a class="reference internal" href="#using-nimbus-on-futuregrid">Using Nimbus on FutureGrid</a></li>
</ul>
</li>
<li><a class="reference internal" href="#image87">|image87|</a></li>
<li><a class="reference internal" href="#what-is-nimbus">What is Nimbus?</a></li>
<li><a class="reference internal" href="#nimbus-on-futuregrid">Nimbus on FutureGrid</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#using-the-cloud-client">Using the Cloud Client</a></li>
<li><a class="reference internal" href="#virtual-clusters">Virtual Clusters</a><ul>
<li><a class="reference internal" href="#cloud-quick-start-launch-a-vm-with-1-command">Cloud Quick Start : Launch a VM with 1 command</a></li>
<li><a class="reference internal" href="#launch-a-vm-via-nimbus">Launch A VM via Nimbus</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-other-nimbus-clouds-on-futuregrid">Using Other Nimbus Clouds on FutureGrid</a></li>
<li><a class="reference internal" href="#launching-multiple-vms">Launching Multiple VMs</a></li>
</ul>
</ul>
</li>
            
            
              
            
            
              <li>
  <a href="_sources/nimbus.txt"
     rel="nofollow">Source</a></li>
            
          </ul>

          
            
<form class="navbar-search pull-right" action="search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
      </div>
    </div>
  </div>

<div class="container">
  
  <blockquote>
<div>Nimbus Clouds</div></blockquote>
<hr class="docutils" />
<p>Nimbus is an open-source service package that allows users to run
virtual machines on FutureGrid hardware. You can easily upload your own
VM image or customize an image provided by us. When you boot a VM, it is
assigned a public IP address (and/or an optional private address), and
you are authorized to log in as root via SSH. You can then run services,
perform computations, and configure the system as desired.</p>
<p>Nimbus is available across various FutureGrid sites, and there are
two open-source hypervisors in use in FutureGrid Nimbus clouds: Xen and
KVM. Nimbus in FutureGrid is the recommended platform if you are
interested in experiments within a cloud, across clouds, or in those not
amenable to para-virtualization, as the Nimbus/KVM cloud (alamo)
supports &#8220;classic&#8221; virtual machines.</p>
<p>For tutorials on getting started with Nimbus, see:</p>
<ul class="simple">
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/nimbus">Using Nimbus on
FutureGrid</a>&nbsp;[novice]</li>
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/nm2">Nimbus One-click Cluster
Guide</a>&nbsp;[intermediate]</li>
</ul>
<div class="section" id="openstack-clouds">
<h1>OpenStack Clouds<a class="headerlink" href="#openstack-clouds" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.openstack.org/">OpenStack</a>&nbsp;is a recently open-sourced,
IaaS cloud computing platform founded by Rackspace Hosting and NASA, and
used widely in industry. It includes three components: Compute(Nova),
Object Storage (Swift), and Image Service (Glance). OpenStack Nova
supports an&nbsp; Amazon Web Services (AWS) complaint EC2-based web service
interface for interacting with the Cloud service, and can be used with
the same client-side &#8220;eucatools&#8221; that is used with Eucalyptus.</p>
<p>FutureGrid currently features the OpenStack Nova compute cloud.
OpenStack Nova in FutureGrid is useful if you are interested in
experiments within a cloud, and in comparison of cloud middleware
stacks.</p>
<p>For tutorials on getting started with OpenStack, see:</p>
<ul class="simple">
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/openstack">Using OpenStack Nova on
FutureGrid</a>&nbsp;[novice]<ul>
<li>This tutorial targets all users of OpenStack in FutureGrid; it
describes how to get started with FutureGrid OpenStack resources.</li>
</ul>
</li>
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/os1">Running an OpenStack virtual appliance on
FutureGrid</a>&nbsp;[novice]<ul>
<li>This tutorial targets users interested in education and training
on OpenStack internals; it describes how to run a virtual, private
OpenStack deployment as an appliance.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="eucalyptus-clouds">
<h1>Eucalyptus Clouds<a class="headerlink" href="#eucalyptus-clouds" title="Permalink to this headline">¶</a></h1>
<p>Eucalyptus is an open-source software platform that implements
IaaS-style cloud computing. Eucalyptus provides an Amazon Web Services
(AWS) complaint EC2-based web service interface for interacting with the
Cloud service. Additionally, Eucalyptus provides services such as the
AWS Complaint Walrus and a user interface for managing users and
images.</p>
<p>Eucalyptus is also available on distributed FutureGrid resources.
Eucalyptus in FutureGrid is useful if&nbsp; you are interested in experiments
within a cloud, across clouds, and in comparison of cloud middleware
stacks.</p>
<p>For tutorials on getting started with Eucalyptus, see:</p>
<ul class="simple">
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/eucalyptus3">Using&nbsp;Eucalyptus on
FutureGrid</a>&nbsp;[novice]</li>
</ul>
</div>
<div class="section" id="virtual-appliances-for-training-and-education">
<h1>Virtual Appliances for Training and Education<a class="headerlink" href="#virtual-appliances-for-training-and-education" title="Permalink to this headline">¶</a></h1>
<p>The IaaS cloud stacks on FutureGrid enable the use of &#8220;virtual
appliances&#8221; as an environment where hands-on, executable educational and
training modules can be created, shared, and leveraged by the FutureGrid
community. With these appliances, students are able to deploy virtual
machines and virtual private clusters, where they are able to experiment
with various Grid and cloud computing middleware stacks.</p>
<p>For tutorials on getting started with educational virtual appliances,
see:</p>
<ul class="simple">
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/ga1">Running a Grid Appliance on your
desktop</a>&nbsp;&nbsp;[novice]</li>
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/ga9">Running a Grid Appliance on
FutureGrid</a>&nbsp;[novice]</li>
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/ga8">Running Condor tasks on the Grid
Appliance</a>&nbsp;[novice]</li>
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/mp1">Running MPI tasks on the Grid
Appliance</a>&nbsp;[novice]</li>
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/ga10">Running Hadoop&nbsp;tasks on the Grid
Appliance</a>&nbsp;[novice]</li>
<li><a class="reference external" href="https://portal.futuregrid.org/tutorials/os1">Running an OpenStack virtual appliance on
FutureGrid</a>&nbsp;[novice]</li>
</ul>
<div class="section" id="using-nimbus-on-futuregrid">
<h2>Using Nimbus on FutureGrid<a class="headerlink" href="#using-nimbus-on-futuregrid" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="image87">
<h1><a href="#id1"><span class="problematic" id="id2">|image87|</span></a><a class="headerlink" href="#image87" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="what-is-nimbus">
<h1>What is Nimbus?<a class="headerlink" href="#what-is-nimbus" title="Permalink to this headline">¶</a></h1>
<p>Nimbus is an open source service package that allows users to run
virtual machines on FutureGrid hardware. You can easily upload your own
VM image or customize an image provided by us. When you boot a VM, it is
assigned a public IP address (and/or an optional private address); you
are authorized to log in as root via SSH. You can then run services,
perform computations, and configure the system as desired. After using
and configuring the VM, you can save the modified VM image back to the
Nimbus image repository.</p>
</div>
<div class="section" id="nimbus-on-futuregrid">
<h1>Nimbus on FutureGrid<a class="headerlink" href="#nimbus-on-futuregrid" title="Permalink to this headline">¶</a></h1>
<p>Nimbus is installed on four FutureGrid clusters:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt><strong>Hotel</strong>&nbsp;(University of Chicago)</dt>
<dd><p class="first last">41 nodes, 328 cores</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Foxtrot</strong>&nbsp;(University of Florida)</dt>
<dd><p class="first last">26 nodes, 208 cores</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Sierra</strong>&nbsp;(San Diego Supercomputer Center)</dt>
<dd><p class="first last">18 nodes, 144 cores</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Alamo</strong>(Texas Advanced Computing Center)</dt>
<dd><p class="first last">15 nodes, 120 cores</p>
</dd>
</dl>
</li>
</ol>
<p>By default, users are limited to running 16 VMs simultaneously and
claiming two cores per VM. If you have a good reason for this limitation
to be lifted for your account,
contact&nbsp;<a class="reference external" href="https://portal.futuregrid.org/help">https://portal.futuregrid.org/help</a>.</p>
<p>All FutureGrid users are allowed access to Nimbus on all sites.</p>
</div>
<div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>Nimbus provides services that can be controlled remotely using a variety
of clients. In this tutorial, we will use a simple command line tool
called the&nbsp;<strong>cloud-client</strong>. If you&#8217;d rather have programmatic
control, the Amazon EC2 protocols&nbsp;<a class="reference external" href="http://www.nimbusproject.org/docs/current/elclients.html">are
supported</a>,
which have a variety of excellent clients&nbsp;available&nbsp;for many
languages.</p>
<p>The first step is to ssh into hotel.futuregrid.org.&nbsp; While you can use
Nimbus clients from anywhere in the world, we recommend that you start
on hotel because the correct version of Java is installed there.</p>
<div class="highlight-python"><pre>$ ssh -A hotel.futuregrid.org</pre>
</div>
<p>If this command fails, contact
<a class="reference external" href="https://portal.futuregrid.org/help">https://portal.futuregrid.org/help</a>.
It likely means one of the following:</p>
<ol class="arabic simple">
<li>Your account is not yet set up.</li>
<li>You provide no public key or an corrupted public key.</li>
<li>The private key you are using does not match the public one you
registered with FutureGrid.</li>
</ol>
<p>Download the Nimbus cloud client from the&nbsp;<a class="reference external" href="http://www.nimbusproject.org/downloads/">Nimbus
website</a>.</p>
<div class="highlight-python"><pre>$ wget http://www.nimbusproject.org/downloads/nimbus-cloud-client-021.tar.gz</pre>
</div>
<p>Unpack the archive onto your system. You can also use one of the
FutureGrid login nodes directly.</p>
<div class="highlight-python"><pre>$ tar xzf nimbus-cloud-client-021.tar.gz
$ ls nimbus-cloud-client-021/
CHANGES.txt README.txt  conf        lib
LICENSE.txt bin     history     samples
Obtain your Nimbus credentials and configuration files</pre>
</div>
<p>In your home directory on hotel, you will find the file
nimbus_creds.tar.gz:</p>
<div class="highlight-python"><pre> username@hotel $ ls ~/nimbus_creds.tar.gz
nimbus_creds.tar.gz</pre>
</div>
<p>If your credentials are not present on&nbsp;<strong>Hotel</strong>,
contact&nbsp;<a class="reference external" href="https://portal.futuregrid.org/help">https://portal.futuregrid.org/help</a>.</p>
<p>Back on your system, download and unpack these files into your
cloud-client&#8217;s&nbsp;directory:</p>
<div class="highlight-python"><pre>$ cd nimbus-cloud-client-021/conf/
$ tar xvzf ~/nimbus_creds.tar.gz
usercert.pem
userkey.pem
cloud.properties
hotel.conf
sierra.conf
foxtrot.conf
alamo.conf</pre>
</div>
<p>Now you should have a functional cloud client. To begin, check out the
help text and&nbsp;file.</p>
<div class="highlight-python"><pre>$ cd ../</pre>
</div>
<div class="highlight-python"><pre>$ bin/cloud-client.sh --help</pre>
</div>
<p>In order to use Nimbus clouds effectively, you need to have your ssh
public key in a known place so that it can be injected into your VM, and
thus allow you (and only you) root access to your VM. When creating your
FutureGrid account you had to upload an ssh public key.&nbsp; That key can be
found on hotel in the file <em>~/.ssh/authorized_keys</em>.&nbsp; If you were able
to ssh into hotel then this is the public key are are currently using.
Nimbus needs this key to be in the<em>~/.ssh/id_rsa.pub</em>:</p>
<div class="highlight-python"><pre>$ cp ~/.ssh/authorized_keys ~/.ssh/id_rsa.pub</pre>
</div>
<p>Because the security environment can be complicated, cloud-client has an
option to help verify that things are working.&nbsp; Run the following
command to display some information about your security environment:</p>
<div class="highlight-python"><pre>$ ./bin/cloud-client.sh --security</pre>
</div>
</div>
<div class="section" id="using-the-cloud-client">
<h1>Using the Cloud Client<a class="headerlink" href="#using-the-cloud-client" title="Permalink to this headline">¶</a></h1>
<p>When the credentials file was untarred in a step above, a
configuration file for each of the four FutureGrid clouds was put in
your <em>conf/</em>directory.&nbsp; Now let&#8217;s take a look at accessing each of
those clouds and seeing what virtual machines are available for use.
This will require two options to cloud client.&nbsp; The first is &#8211;conf ;
this is used to select the cloud you wish to use.&nbsp; Simply provide a path
to the cloud configuration file.&nbsp; This &#8211;conf switch will be used in all
commands to direct cloud-client at the cloud of interest.</p>
<p>The second option is &#8211;list.&nbsp; This will simply provide a listing of
all the available virtual machines:</p>
<div class="highlight-python"><pre>$ bin/cloud-client.sh --conf conf/hotel.conf --list</pre>
</div>
<p>This command should list the available images on the system.&nbsp; Notice the
hello-cloud virtual machine.&nbsp; This is the test image we will use in this
tutorial:</p>
<div class="highlight-python"><pre>[Image] 'hello-cloud'                    Read only
        Modified: Jan 13 2011 @ 14:15   Size: 576716800 bytes (~550 MB)</pre>
</div>
<p>Next, try to boot a virtual machine:</p>
<div class="highlight-python"><pre>$ bin/cloud-client.sh --conf conf/hotel.conf --run --name hello-cloud --hours 2
Launching workspace.</pre>
</div>
<div class="highlight-python"><pre>Workspace Factory Service:
     https://svc.uc.futuregrid.org:8443/wsrf/services/WorkspaceFactoryService</pre>
</div>
<div class="highlight-python"><pre>::</pre>
</div>
<blockquote>
<div>Creating workspace &#8220;vm-001&#8221;... done.</div></blockquote>
<div class="highlight-python"><pre>      IP address: 149.165.148.253
        Hostname: vm-253.uc.futuregrid.org
      Start time: Wed Jul 25 15:44:33 CDT 2012
   Shutdown time: Wed Jul 25 17:44:33 CDT 2012
Termination time: Wed Jul 25 17:46:33 CDT 2012</pre>
</div>
<div class="highlight-python"><pre>Waiting for updates.</pre>
</div>
<div class="highlight-python"><pre>"vm-001" reached target state: Running</pre>
</div>
<p>Once the image is running, you should be able to log into it with SSH.
Note that you may need to wait another minute or so before you can
actually get it, as the system needs time to boot and start services.
Log in as the root user, and connect to the host printed out by the run
command.&nbsp; Note that you <strong>must</strong>run this command in a location that
has access to your private key.&nbsp; This means it must be in the <em>~/.ssh/</em>
directory on the file system from where you launch this command, or you
must have used the -A option to ssh when logging into hotel (as is shown
above).</p>
<div class="highlight-python"><pre>$ ssh root@vm-253.uc.futuregrid.org</pre>
</div>
<p>Once you have a root shell on your VM, you may modify it as through it
were a real machine.&nbsp; Here we encourage you to make some changes.
Create a new user, install some additional software, or simply create a
text file in the root user&#8217;s account:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># touch /root/CHANGE</span>
<span class="c"># exit</span>
</pre></div>
</div>
<p>Now that you have modified the VM ,you can save it back into your
personal repository.&nbsp; To do this, you will use the &#8211;save and &#8211;newname
options.&nbsp; You will also need the VM handle as it was displayed in the
output from the run command.&nbsp; If you have forgotten what this was, you
can use the &#8211;status option to find it:</p>
<div class="highlight-python"><pre>$ ./bin/cloud-client.sh --conf conf/hotel.conf --status
Querying for ALL instances.

[*] - Workspace #32292. 149.165.148.253 [ vm-253.uc.futuregrid.org ]
      State: Running
      Duration: 120 minutes.
      Start time: Wed Jul 25 15:44:33 CDT 2012
      Shutdown time: Wed Jul 25 17:44:33 CDT 2012
      Termination time: Wed Jul 25 17:46:33 CDT 2012
      *Handle: vm-001
       Image: hello-cloud</pre>
</div>
<p>Note the handle <em>vm-001</em>.&nbsp; To save the VM for future use, run the
following command:</p>
<div class="highlight-python"><pre>$ ./bin/cloud-client.sh --conf conf/hotel.conf --save --newname myvm --handle vm-001

Saving workspace.
  - Workspace handle (EPR): '/N/u/bresnaha/nimbus-cloud-client-021/history/vm-001/vw-epr.xml'
  - New name: 'myvm'

Waiting for updates.

The image has successfully been transferred to your repository directory.

Finalizing the deployment now (terminating the resource lease).</pre>
</div>
<p>Do another listing of that cloud and you will see your VM is now
available for launch:</p>
<div class="highlight-python"><pre>$ ./bin/cloud-client.sh --conf conf/hotel.conf --list
[Image] 'myvm'                           Read/write
        Modified: Jul 25 2012 @ 20:49   Size: 576716800 bytes (~550 MB)

----

[Image] 'hello-cloud'                    Read only
        Modified: Apr 8 2011 @ 13:56   Size: 576716800 bytes (~550 MB)</pre>
</div>
<p>You can now launch your new VM just like you did the hello-cloud VM
above, simply changing the name from <em>hello-cloud</em> to <em>myvm&nbsp;</em>:</p>
<div class="highlight-python"><pre>$ ./bin/cloud-client.sh --conf conf/hotel.conf --run --name myvm --hours 2

Launching workspace.

Workspace Factory Service:
    https://svc.uc.futuregrid.org:8443/wsrf/services/WorkspaceFactoryService

Creating workspace "vm-002"... done.


       IP address: 149.165.148.151
         Hostname: vm-151.uc.futuregrid.org
       Start time: Wed Jul 25 15:58:31 CDT 2012
    Shutdown time: Wed Jul 25 17:58:31 CDT 2012
 Termination time: Wed Jul 25 18:08:31 CDT 2012

Waiting for updates.


"vm-002" reached target state: Running

Running: 'vm-002'</pre>
</div>
<p>SSH into the machine and verify that your changes persisted.</p>
<p>Your VM will terminate after its allocated time expires.&nbsp; In our
examples here, this is after 2 hours.&nbsp; However, you may wish to
terminate it earlier.&nbsp; You can do so by again using the &#8211;handle option
as you did in the <em>save a new VM step</em> and the &#8211;terminate option:</p>
<div class="highlight-python"><pre>$ ./bin/cloud-client.sh --conf conf/hotel.conf --terminate --handle vm-002

Terminating workspace.
  - Workspace handle (EPR): '/N/u/bresnaha/nimbus-cloud-client-021/history/vm-002/vw-epr.xml'

Destroying vm-002... destroyed.</pre>
</div>
</div>
<div class="section" id="virtual-clusters">
<h1>Virtual Clusters<a class="headerlink" href="#virtual-clusters" title="Permalink to this headline">¶</a></h1>
<p>This is a basic walkthrough of how to run a sample virtual cluster.
For more information on how they work, see
<em>http://www.nimbusproject.org/docs/current/clouds/clusters2.html .</em></p>
<div class="highlight-python"><pre>::</pre>
</div>
<p>For this example, we will use a modification of the sample cluster file
that is distributed with the cloud client.&nbsp; The file can be found at
<em>https://portal.futuregrid.org/sites/default/files/tutorial-cluster.xml_.gz&nbsp;</em>.
Copy the file to where your cloud-client program is located, and unzip
it.&nbsp; Open the file and make note of the following:</p>
<ol class="arabic simple">
<li>There are 2 workspace definitions.</li>
<li>The head node has a quantity of 1 and a base image
base-cluster-cc14.gz.&nbsp; It has the roles of providing a nfs server.</li>
<li>The compute-nodes have the same image, but a quantity of 2.&nbsp; This
means there will be 1 head node and 2 compute-nodes in the virtual
cluster.&nbsp; This has the role of being a nfs client.</li>
</ol>
<div class="highlight-python"><pre>$ ./bin/cloud-client.sh --conf conf/sierra.conf --run --hours 2 --cluster &lt;path to your cluster document&gt;
SSH known_hosts contained tilde:
  - '~/.ssh/known_hosts' --&gt; '/N/u/bresnaha/.ssh/known_hosts'

Requesting cluster.
  - head-node: image 'base-cluster-cc14.gz', 1 instance
  - compute-nodes: image 'base-cluster-cc14.gz', 2 instances

Context Broker:
    https://s83r.idp.sdsc.futuregrid.org:8443/wsrf/services/NimbusContextBroker

Created new context with broker.

Workspace Factory Service:
    https://s83r.idp.sdsc.futuregrid.org:8443/wsrf/services/WorkspaceFactory...

Creating workspace "head-node"... done.
  - 198.202.120.134 [ vm-40.sdsc.futuregrid.org ]

Creating group "compute-nodes"... done.
  - 198.202.120.135 [ vm-41.sdsc.futuregrid.org ]
  - 198.202.120.136 [ vm-42.sdsc.futuregrid.org ]

Launching cluster-004... done.

Waiting for launch updates.
  - cluster-004: all members are Running
  - wrote reports to '/N/u/bresnaha/tutorial/nimbus-cloud-client-021/history/cluster-004/reports-vm'

Waiting for context broker updates.
  - cluster-004: contextualized
  - wrote ctx summary to '/N/u/bresnaha/tutorial/nimbus-cloud-client-021/history/cluster-004/reports-ctx/CTX-OK.txt'
  - wrote reports to '/N/u/bresnaha/tutorial/nimbus-cloud-client-021/history/cluster-004/reports-ctx'

SSH trusts new key for vm-40.sdsc.futuregrid.org   head-node

SSH trusts new key for vm-41.sdsc.futuregrid.org   compute-nodes #0

SSH trusts new key for vm-42.sdsc.futuregrid.org   compute-nodes #1</pre>
</div>
<p>This command takes a bit of time.&nbsp; What is happening is cloud-client
is instructing Nimbus to start up three VMs on the user&#8217;s behalf.
Information is put into the context broker.&nbsp; When each VM boots, the
context agent is run.&nbsp; The context agent checks in with the context
broker and asks for information reflecting the <em>requires</em> section in the
cluster document; similarly it registers its <em>provides</em> information with
the context broker for other VM context agents to query.&nbsp; The NFS
clients use this mechanism to provide the nfs server with their IP
addresses.&nbsp; The NFS server then gets this information out of the context
broker and uses it to authorize those IP addresses to remotely mount its
disks.</p>
<p>When it is complete, your virtual cluster will be ready to go.</p>
<p>Now ssh into one of the worker nodes and check out the file system.</p>
<div class="highlight-python"><pre>$ df -h
df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/sda1             2.9G  1.2G  1.7G  42% /
udev                  1.1G  144K  1.1G   1% /dev
shm                   1.1G     0  1.1G   0% /dev/shm
198.202.120.134:/home
                      2.9G  1.2G  1.7G  42% /home
198.202.120.134:/etc/grid-security/certificates
                      2.9G  1.2G  1.7G  42% /etc/grid-security/certificates</pre>
</div>
<p>Notice the NFS mounted home directory. &nbsp;Touch a file in that
directory.</p>
<div class="highlight-python"><pre>$ echo "Hello FutureGrid" &gt; /home/test_file</pre>
</div>
<p>Now ssh into the other worker node and verify that the test file is
visible to this node as well.</p>
<div class="highlight-python"><pre>$cat /home/test_file
Hello FutureGrid</pre>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="89%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attachment</th>
<th class="head">Size</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference external" href="https://portal.futuregrid.org/sites/default/files/tutorial-cluster.xml_.gz">tutorial-cluster.xml_.gz</a></td>
<td>342 bytes</td>
</tr>
</tbody>
</table>
<div class="section" id="cloud-quick-start-launch-a-vm-with-1-command">
<h2>Cloud Quick Start : Launch a VM with 1 command<a class="headerlink" href="#cloud-quick-start-launch-a-vm-with-1-command" title="Permalink to this headline">¶</a></h2>
<p>This page explains how to very simply run a virtual machine (VM) on
FutureGrid Nimbus.&nbsp; The VM launched will mount your home files system on
hotel so data can be exchanged with the VM easily.&nbsp; Users new to cloud
computing, particularly those coming from Grid computing, and those who
are interested in getting a quick hands-on introduction to FutureGrid
clouds, should find this useful.</p>
</div>
<div class="section" id="launch-a-vm-via-nimbus">
<h2>Launch A VM via Nimbus<a class="headerlink" href="#launch-a-vm-via-nimbus" title="Permalink to this headline">¶</a></h2>
<p>Once you have a FutureGrid Nimbus account and ssh access to
hotel.futuregrid.org, you can easily begin using the cloud.&nbsp; All you
need to do is ssh into hotel with ssh forwarding enabled, and type a
single command:</p>
<div class="highlight-python"><pre>$ ssh -A hotel.futuregrid.org
$ /soft/nimbus/tools/bin/launch-vm.sh
Launching your VM (this may take a minute)...
Success!
Access your VM with: ssh root@vm-156.uc.futuregrid.org
Terminate your VM with: /soft/nimbus/tools/bin/cloudinitd.sh terminate 9ec20044</pre>
</div>
<p>Notice the output from the above command.&nbsp; It tells you how to access
the VM, and how to clean it up when you are finished with it.&nbsp; First
let&#8217;s access the VM and check out its file system.&nbsp; The VM should have
remotely mounted your home file system on FutureGrid.&nbsp; This will allow
you to easily copy data in and out of your VM.</p>
<div class="highlight-python"><pre>$ ssh root@vm-156.uc.futuregrid.org
$ vm-156:~# df -h
Filesystem            Size  Used Avail Use% Mounted on
tmpfs                 1.1G     0  1.1G   0% /lib/init/rw
udev                   10M  1.1M  9.0M  11% /dev
tmpfs                 1.1G     0  1.1G   0% /dev/shm
rootfs                1.9G  731M  1.1G  42% /
sshfs#bresnaha@hotel.futuregrid.org:
                     1000G     0 1000G   0% /mnt/hotel.futuregrid.org

$ ls /mnt/hotel.futuregrid.org
..... &lt;a listing of your FutureGrid home directory&gt;</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="using-other-nimbus-clouds-on-futuregrid">
<h1>Using Other Nimbus Clouds on FutureGrid<a class="headerlink" href="#using-other-nimbus-clouds-on-futuregrid" title="Permalink to this headline">¶</a></h1>
<p>By default, the VMs are launched on hotel&#8217;s Nimbus cloud.&nbsp; However,
you can use this script to launch a VM on any cloud to which you have
access, including all of FutureGrid&#8217;s Nimbus clouds, FutureGrid&#8217;s
Eucalytpus clouds, and FutureGrid&#8217;s OpenStack clouds.&nbsp; To run on a
different FutureGrid Nimbus cloud, set the
env&nbsp;<em>CLOUDINITD_IAAS_URL</em>&nbsp;to one of the following:</p>
<ul class="simple">
<li>Hotel:
<a class="reference external" href="https://svc.uc.futuregrid.org:8444">https://svc.uc.futuregrid.org:8444</a></li>
<li>Sierra:
<a class="reference external" href="https://s83r.idp.sdsc.futuregrid.org:8444">https://s83r.idp.sdsc.futuregrid.org:8444</a></li>
<li>Foxtrot:
<a class="reference external" href="https://f1r.idp.ufl.futuregrid.org:9444">https://f1r.idp.ufl.futuregrid.org:9444</a>
(coming soon)</li>
<li>Alamo:
<a class="reference external" href="https://master1.futuregrid.tacc.utexas.edu:8444">https://master1.futuregrid.tacc.utexas.edu:8444</a>
(coming soon)</li>
</ul>
</div>
<div class="section" id="launching-multiple-vms">
<h1>Launching Multiple VMs<a class="headerlink" href="#launching-multiple-vms" title="Permalink to this headline">¶</a></h1>
<p>To launch many VMs at once, set the env
<em>CLOUDINITD_SSHFS_REPLICA_COUNT</em> to the Number of VMs that you would
like launched</p>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>