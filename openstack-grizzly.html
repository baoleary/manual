<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13. OpenStack Grizzly (Gregor) &mdash; Cloud Computing Book 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cloud Computing Book 0.1 documentation" href="index.html" />
    <link rel="next" title="14. Eucalyptus (Allen)" href="eucalyptus.html" />
    <link rel="prev" title="12. OpenStack Essex with euca2ools" href="openstack.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="index.html">Contents</a>
        <span class="navbar-text pull-left"><b>0.1</b></span>

        <div class="nav-collapse">
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="todolist.html">1. Todo List</a></li>
<li class="toctree-l1"><a class="reference internal" href="plan.html">2. Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="title.html">3.   Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="preface.html">4. Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preface.html#citation-for-publications">4.1. Citation for Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#acknowledgement">4.2. Acknowledgement</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#sponsors">4.3. Sponsors</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#about-this-manual">4.4. About this Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#conventions">4.5. Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">5. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#executive-summary">5.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#project-and-account-application">5.2. Project and Account Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#services">5.3. Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#hardware">5.4. Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#support">5.5. Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="account.html">6. Project and Account Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="account.html#terminology">6.1. Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#quickstart">6.2. Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#projects-and-accounts-for-xsede-users">6.3. Projects and Accounts for XSEDE users</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#project-management">6.4. Project Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#upload-a-ssh-public-key">6.5. Upload a SSH Public Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#upload-an-openid">6.6. Upload an OpenId</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#accessing-futuregrid-resources">6.7. Accessing FutureGrid Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#manage-a-class-on-futuregrid">6.8. Manage a Class on FutureGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#mini-faq">6.9. Mini FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">7. Using SSH keys</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#using-ssh-from-windows">7.1. Using SSH from Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#generate-a-ssh-key">7.2. Generate a SSH key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#add-or-replace-passphrase-for-an-already-generated-key">7.3. Add or Replace Passphrase for an Already Generated Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#upload-the-key-to-the-futuregrid-portal">7.4. Upload the key to the FutureGrid Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#testing-your-ssh-key">7.5. Testing your ssh key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#testing-your-ssh-key-for-hotel">7.6. Testing your ssh key for Hotel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="status.html">8. Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">9. Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#compute-resources">9.1. Compute Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#networks">9.2. Networks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.html">10. HPC Services (assigned to Allen and Koji)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#accessing-systems">10.1. Accessing Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#filesystem-layout">10.2. Filesystem Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#modules">10.3. Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#managing-applications-with-torque">10.4. Managing Applications with Torque</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#message-passing-interface-mpi">10.5. Message Passing Interface (MPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#mpi-libraries">10.6. MPI Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#compiling-mpi-applications">10.7. Compiling MPI Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#running-mpi-applications">10.8. Running MPI Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#working-with-hpc-job-services">10.9. Working with HPC Job Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#xray-hpc-services">10.10. Xray HPC Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#storage-services">10.11. Storage Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scalemp.html">11. ScaleMP vSMP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#accessing-scalemp">11.1. Accessing ScaleMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#submitting-a-job">11.2. Submitting a job</a></li>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#developing-a-job-script">11.3. Developing a job script</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openstack.html">12. OpenStack Essex with euca2ools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#prerequisits">12.1. Prerequisits</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#log-into-india">12.2. Log into India</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#system-variable-user">12.3. System Variable $USER</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#account-and-credentials">12.4. Account and Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#euca2ools-ec2-client-tools">12.5. Euca2ools (EC2 client tools)</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#testing-your-setup">12.6. Testing Your Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#list-of-common-images">12.7. List of Common Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#vm-types">12.8. VM Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#key-management">12.9. Key Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#image-instantiation">12.10. Image Instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#rename-server-names">12.11. Rename Server Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#monitoring-instances">12.12. Monitoring Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#log-into-your-vm">12.13. Log into your VM</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#nova-volumes-not-available">12.14. Nova Volumes (Not available)</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#volume-snapshots">12.15. Volume Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#image-registration">12.16. Image Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#delete-your-images">12.17. Delete your images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#terminate-your-vms">12.18. Terminate your VMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#limitations">12.19. Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#troubleshooting">12.20. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#compatibility-between-nova-and-euca2ools-commands">12.21. Compatibility between nova and euca2ools commands</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">13. OpenStack Grizzly (Gregor)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#from-zero-to-get-your-first-instance-running">13.1. From zero to get your first instance running</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-block-storage">13.2. Use Block Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-up-external-access-to-your-instance">13.3. Set up external access to your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#make-a-snapshot-of-an-instance">13.4. Make a snapshot of an instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automate-some-initial-configuration">13.5. Automate some initial configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-the-latest-version-of-ubuntu-cloud-image-and-upload-it-to-the-openstack">13.6. Get the latest version of Ubuntu Cloud Image and upload it to the OpenStack</a></li>
<li class="toctree-l2"><a class="reference internal" href="#delete-your-instance">13.7. Delete your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-change-your-password">13.8. How to change your password</a></li>
<li class="toctree-l2"><a class="reference internal" href="#things-to-do-when-you-need-euca2ools-or-ec2-interfaces">13.9. Things to do when you need Euca2ools or EC2 interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="eucalyptus.html">14. Eucalyptus  (Allen)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#requirements">14.1. Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#account-creation">14.2. Account Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#resources-overview">14.3. Resources Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#testing-your-setup">14.4. Testing Your Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-deployment">14.5. Image Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#logging-into-the-vm">14.6. Logging Into the VM</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#vm-network-info">14.7. VM Network Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-management">14.8. Image Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#status-of-deployments">14.9. Status of Deployments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="iaas.html">15. IaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#nimbus-clouds">15.1. Nimbus Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#openstack-clouds">15.2. OpenStack Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#eucalyptus-clouds">15.3. Eucalyptus Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#virtual-appliances-for-training-and-education">15.4. Virtual Appliances for Training and Education</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nimbus.html">16. Using Nimbus on FutureGrid</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#nimbus-on-futuregrid">16.1. Nimbus on FutureGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#getting-started">16.2. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#using-the-cloud-client">16.3. Using the Cloud Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#virtual-clusters">16.4. Virtual Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#cloud-quick-start-launch-a-vm-with-1-command">16.5. Cloud Quick Start : Launch a VM with 1 command</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#launch-a-vm-via-nimbus">16.6. Launch A VM via Nimbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#using-other-nimbus-clouds-on-futuregrid">16.7. Using Other Nimbus Clouds on FutureGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#launching-multiple-vms">16.8. Launching Multiple VMs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nimbus-phantom.html">17. Nimbus Phantom</a></li>
<li class="toctree-l1"><a class="reference internal" href="nimbus-cloudinitd.html">18. cloudinit.d</a></li>
<li class="toctree-l1"><a class="reference internal" href="precip.html">19. Precip</a><ul>
<li class="toctree-l2"><a class="reference internal" href="precip.html#installation">19.1. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="precip.html#api">19.2. API</a></li>
<li class="toctree-l2"><a class="reference internal" href="precip.html#examples">19.3. Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rain.html">20. RAIN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rain.html#generate-and-register-an-os-image-on-futuregrid-using-the-fg-shell">20.1. Generate and Register an OS Image on FutureGrid using the FG Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#futuregrid-standalone-image-repository">20.2. FutureGrid Standalone Image Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#manual-image-customization">20.3. Manual Image Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#rain-manual-pages">20.4. RAIN Manual Pages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pegasus.html">21. Pegasus (Matts)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pegasus.html#the-pegasus-run-time-cloud-architecture">21.1. The Pegasus Run-Time Cloud Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="pegasus.html#using-pegasus-on-futuregrid">21.2. Using Pegasus on FutureGrid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vine.html">22. ViNe (Mauritsio/Renato)</a></li>
<li class="toctree-l1"><a class="reference internal" href="unicore.html">23. Unicore</a><ul>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#unicore-6-on-futuregrid-user-manual">23.1. UNICORE 6 on FutureGrid User Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#introduction">23.2. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#what-is-unicore">23.3. What is UNICORE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#connecting-to-the-unicore-bes-endpoints-from-other-grid-middleware-clients">23.4. Connecting to the UNICORE BES Endpoints From Other Grid Middleware Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#connecting-to-the-unicore-bes-endpoints-using-a-unicore-commandline-client">23.5. Connecting to the UNICORE BES Endpoints Using a UNICORE Commandline Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#running-jobs-on-unicore-sites">23.6. Running Jobs on UNICORE Sites</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#deploying-a-new-unicore-6-grid">23.7. Deploying a New UNICORE 6 Grid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="genesis.html">24. Genesis II</a><ul>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#introduction">24.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#what-is-genesisii">24.2. What is GenesisII</a></li>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#connecting-to-the-genesisii-bes-endpoints">24.3. Connecting to the GenesisII BES Endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#using-the-futuregrid-genesisii-endpoints-as-a-client">24.4. Using the Futuregrid GenesisII Endpoints as a Client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">25. Tutorials (Renato/Mauritsio)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-0-accessing-futuregrid-resources">25.1. Tutorial Topic 0: Accessing FutureGrid Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-1-cloud-provisioning-platforms">25.2. Tutorial Topic 1: Cloud Provisioning Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-2-cloud-run-time-map-reduce-platforms">25.3. Tutorial Topic 2: Cloud Run-time Map/Reduce Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-3-grid-appliances-for-training-education-and-outreach">25.4. Tutorial Topic 3: Grid Appliances for Training, Education, and Outreach</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-4-high-performance-computing">25.5. Tutorial Topic 4: High Performance Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-5-experiment-management">25.6. Tutorial Topic 5: Experiment Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-6-image-management-and-rain">25.7. Tutorial Topic 6: Image Management and Rain</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#tutorial-topic-7-storage">25.8. Tutorial Topic 7:  Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#other-tutorials-and-educational-materials">25.9. Other Tutorials and Educational Materials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="papi.html">26. PAPI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="papi.html#availability">26.1. Availability</a></li>
<li class="toctree-l2"><a class="reference internal" href="papi.html#references">26.2. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gpu.html">27. Delta GPU User Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gpu.html#running-mpi-gpu-program-on-the-delta-cluster">27.1. Running MPI/GPU program on the Delta cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpu.html#running-programs-on-a-single-gpu">27.2. Running programs on a single GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpu.html#c-means-clustering-using-cuda-on-gpu">27.3. C-means clustering using CUDA on GPU</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html">28. Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#step-4-explore-the-documentation">28.1. Step 4: Explore the Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#training-and-education">28.2. Training and Education</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#guide-to-using-the-futuregrid-portal">29. Guide to Using the FutureGrid Portal</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#functions-of-the-futuregrid-portal">29.1. Functions of the FutureGrid Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#a-futuregrid-user-dashboard">29.2. A FutureGrid User Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#update-project-information-and-add-results">29.3. Update Project Information and Add Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#contribute-to-the-futuregrid-community">29.4. Contribute to the FutureGrid Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgmanual.html#file-upload-and-attachment-to-a-page">29.5. File Upload and Attachment to a Page</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#alamo">30. Alamo</a></li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#iaas-infrastructure-as-a-service">31. IaaS - Infrastructure as a Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#using-iaas-clouds-on-futuregrid">32. Using IaaS Clouds on FutureGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#management-services">33. Management Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="fgmanual.html#commandline-clients">34. Commandline clients</a></li>
</ul>
</ul>
</li>
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">13. OpenStack Grizzly (Gregor)</a><ul>
<li><a class="reference internal" href="#from-zero-to-get-your-first-instance-running">13.1. From zero to get your first instance running</a></li>
<li><a class="reference internal" href="#use-block-storage">13.2. Use Block Storage</a></li>
<li><a class="reference internal" href="#set-up-external-access-to-your-instance">13.3. Set up external access to your instance</a></li>
<li><a class="reference internal" href="#make-a-snapshot-of-an-instance">13.4. Make a snapshot of an instance</a></li>
<li><a class="reference internal" href="#automate-some-initial-configuration">13.5. Automate some initial configuration</a></li>
<li><a class="reference internal" href="#get-the-latest-version-of-ubuntu-cloud-image-and-upload-it-to-the-openstack">13.6. Get the latest version of Ubuntu Cloud Image and upload it to the OpenStack</a></li>
<li><a class="reference internal" href="#delete-your-instance">13.7. Delete your instance</a></li>
<li><a class="reference internal" href="#how-to-change-your-password">13.8. How to change your password</a></li>
<li><a class="reference internal" href="#things-to-do-when-you-need-euca2ools-or-ec2-interfaces">13.9. Things to do when you need Euca2ools or EC2 interfaces</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="openstack.html"
         title="previous chapter">&laquo; 12. OpenStack Essex with euca2ools</a></li>
  <li><a href="eucalyptus.html"
         title="next chapter">14. Eucalyptus  (Allen) &raquo;</a></li>
            
            
              <li>
  <a href="_sources/openstack-grizzly.txt"
     rel="nofollow">Source</a></li>
            
          </ul>

          
            
<form class="navbar-search pull-right" action="search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
      </div>
    </div>
  </div>

<div class="container">
  
  <div class="section" id="openstack-grizzly-gregor">
<h1>13. OpenStack Grizzly (Gregor)<a class="headerlink" href="#openstack-grizzly-gregor" title="Permalink to this headline">¶</a></h1>
<p>This manual page explains how to use OpenStack Grizzly on Sierra. It
explains how to login, create an instance of an image, upload/download
images, automate some initial setting and make a snapshot of instance.</p>
<div class="section" id="from-zero-to-get-your-first-instance-running">
<h2>13.1. From zero to get your first instance running<a class="headerlink" href="#from-zero-to-get-your-first-instance-running" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Login to sierra:</p>
<div class="highlight-python"><pre>$ ssh username@sierra.futuregrid.org</pre>
</div>
</li>
<li><p class="first">Create your novarc file with cloudmesh:</p>
<div class="highlight-python"><pre>$ module load cloudmesh
$ cm-manage config sierra-openstack-grizzly</pre>
</div>
<p>The cm-manage command will create a nova rc file at the default
location ~/.futuregrid/novarc To find out more about novarc files,
please consult with the OpenStack manuals.</p>
</li>
<li><p class="first">Set your OpenStack environment valiables by reading your novarc
file, and load novaclient:</p>
<div class="highlight-python"><pre>$ source ~/.futuregrid/novarc
$ module load novaclient</pre>
</div>
</li>
<li><p class="first">Check if your nova client works by printing the image list and the
flavor-list. If you can see the list, your account is fine and you
are good to go to the next step. If you have a problem at this point,
your account may have a problem. So please submit a support ticket on
<a class="reference external" href="https://portal.futuregrid.org/help">our ticket system</a>. Our staff
will help you:</p>
<div class="highlight-python"><pre>$ nova image-list
+--------------------------------------+-------------------------+--------+--------+
| ID                                   | Name                    | Status | Server |
+--------------------------------------+-------------------------+--------+--------+
| 18c437e5-d65e-418f-a739-9604cef8ab33 | futuregrid/fedora-18    | ACTIVE |        |
| 1a5fd55e-79b9-4dd5-ae9b-ea10ef3156e9 | futuregrid/ubuntu-12.04 | ACTIVE |        |
+--------------------------------------+-------------------------+--------+--------+</pre>
</div>
<div class="highlight-python"><pre>$ nova flavor-list
+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | extra_specs |
+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
| 1  | m1.tiny   | 512       | 0    | 0         |      | 1     | 1.0         | True      | {}          |
| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      | {}          |
| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      | {}          |
| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      | {}          |
| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      | {}          |
+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+</pre>
</div>
</li>
<li><p class="first">Create your ssh key. (*$USER is your username on a Linux
machine. So you can simply type your username instead of $USER, if
you like.):</p>
<div class="highlight-python"><pre>$ nova keypair-add $USER-key &gt; ~/.ssh/$USER-key
$ chmod 600 ~/.ssh/$USER-key
$ nova keypair-list
+---------------+-------------------------------------------------+
| Name          | Fingerprint                                     |
+---------------+-------------------------------------------------+
| &lt;USER&gt;-key | ab:a6:63:82:dd:08:d3:bc:c0:21:56:4c:e2:bb:22:ac |
+---------------+-------------------------------------------------+
Where USER is your ligin name on sierra</pre>
</div>
<p>Note: Make sure you are not already having the key wiith that name in
order to avoid overwriting it. Thus be extra careful to execute this
step twice.</p>
<p>Often it is the case that you already have a key in your ~/.ssh
directory that you may want to use. For example if you use rsa, your
key will be located at ~/.ssh/id_rsa.pub. If you like to find out
more about normal Linux use key management, please consult with a ssh
manual.</p>
</li>
<li><p class="first">Open ICMP and port 22 on default group:</p>
<div class="highlight-python"><pre>$ nova secgroup-add-rule default icmp -1 -1 0.0.0.0/0
$ nova secgroup-add-rule default tcp 22 22 0.0.0.0/0
$ nova secgroup-list-rules default
+-------------+-----------+---------+-----------+--------------+
| IP Protocol | From Port | To Port | IP Range  | Source Group |
+-------------+-----------+---------+-----------+--------------+
| icmp        | -1        | -1      | 0.0.0.0/0 |              |
| tcp         | 22        | 22      | 0.0.0.0/0 |              |
+-------------+-----------+---------+-----------+--------------+</pre>
</div>
</li>
<li><p class="first">Boot an instance:</p>
<div class="highlight-python"><pre>$ nova boot --flavor m1.small \
            --image "futuregrid/ubuntu-12.04" \
            --key_name $USER-key $USER-001
+-----------------------------+--------------------------------------+
| Property                    | Value                                |
+-----------------------------+--------------------------------------+
| status                      | BUILD                                |
| updated                     | 2013-05-15T20:32:03Z                 |
| OS-EXT-STS:task_state       | scheduling                           |
| key_name                    | mystackkey                           |
| image                       | futuregrid/ubuntu-12.04              |
| hostId                      |                                      |
| OS-EXT-STS:vm_state         | building                             |
| flavor                      | m1.small                             |
| id                          | e15ad5b6-c3f0-4c07-996c-3bbe709a63b7 |
| security_groups             | [{u'name': u'default'}]              |
| user_id                     | 3bd2d773911c4502982e5c2cd81437f7     |
| name                        | vm001                                |
| adminPass                   | KgiKjek99dgk                         |
| tenant_id                   | b7ea98db7b3449b184b58d28e80c7541     |
| created                     | 2013-05-15T20:32:03Z                 |
| OS-DCF:diskConfig           | MANUAL                               |
| metadata                    | {}                                   |
| accessIPv4                  |                                      |
| accessIPv6                  |                                      |
| progress                    | 0                                    |
| OS-EXT-STS:power_state      | 0                                    |
| OS-EXT-AZ:availability_zone | None                                 |
| config_drive                |                                      |
+-----------------------------+--------------------------------------+</pre>
</div>
</li>
<li><p class="first">Check if your instance is active. If the status changed from BUILD
to ACTIVE, you should be able to login:</p>
<div class="highlight-python"><pre>$ nova list
+--------------------------------------+---------------+--------+---------------------+
| ID                                   | Name          | Status | Networks            |
+--------------------------------------+---------------+--------+---------------------+
| e15ad5b6-c3f0-4c07-996c-3bbe709a63b7 | &lt;USER&gt;-001 | ACTIVE | private=10.35.23.18 |
+--------------------------------------+---------------+--------+---------------------+

$ ssh -l ubuntu -i ~/.ssh/$USER-key 10.35.23.18
ubuntu@&lt;USER&gt;-001:~$</pre>
</div>
</li>
<li><p class="first">If you see this error, you need to delete the offending host key
from .ssh/known_hosts:</p>
<div class="highlight-python"><pre>Add correct host key in /home/username/.ssh/known_hosts to get rid of this message.
Offending key in /home/peter/.ssh/known_hosts:3</pre>
</div>
</li>
<li><p class="first">But you can simply disable ssh host key checking by adding these
lines on .ssh/config . The .ssh/config doesn&#8217;t exist as default so
create the file and put these lines:</p>
<div class="highlight-python"><pre>Host 10.35.23.* 198.202.120.*
 StrictHostKeyChecking no
 UserKnownHostsFile=/dev/null</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="use-block-storage">
<h2>13.2. Use Block Storage<a class="headerlink" href="#use-block-storage" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">You can create a block storage(which is similar to Amazon EBS).
Creating a 5G volume is like this:</p>
<div class="highlight-python"><pre>$ nova volume-create 5
$ nova volume-list
+--------------------------------------+-----------+--------------+------+-------------+-------------+
| ID                                   | Status    | Display Name | Size | Volume Type | Attached to |
+--------------------------------------+-----------+--------------+------+-------------+-------------+
| 6d0d8285-xxxx-xxxx-xxxx-xxxxxxxxxxxx | available | None         |  5   | None        |             |
+--------------------------------------+-----------+--------------+------+-------------+-------------+</pre>
</div>
</li>
<li><p class="first">Attach the volume to your instance as &#8220;/dev/vdb&#8221; with this::</p>
<div class="highlight-python"><pre>$ nova volume-attach $USER-001 6d0d8285-xxxx-xxxx-xxxx-xxxxxxxxxxxx "/dev/vdb"</pre>
</div>
</li>
<li><p class="first">Login to your instance, make filesystem and mount it on some
directory. Here&#8217;s an example, mounting on /mnt:</p>
<div class="highlight-python"><pre>$ ssh -l ubuntu -i ~/.ssh/$USER-key 10.35.23.18
ubuntu@&lt;USER&gt;-001:~$ sudo su -
root@&lt;USER&gt;-001:~# mkfs.ext4 /dev/vdb
root@&lt;USER&gt;-001:~# mount /dev/vdb /mnt
root@&lt;USER&gt;-001:~# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        20G  2.1G   17G  11% /
none            4.0K     0  4.0K   0% /sys/fs/cgroup
udev            998M  8.0K  998M   1% /dev
tmpfs           201M  236K  201M   1% /run
none            5.0M     0  5.0M   0% /run/lock
none           1002M     0 1002M   0% /run/shm
none            100M     0  100M   0% /run/user
/dev/vdb        4.8G   23M  4.2G   1% /mnt</pre>
</div>
</li>
<li><p class="first">When you want to detach it, unmount /mnt first, go back to sierra&#8217;s
login node and execute volume-detach:</p>
<div class="highlight-python"><pre>root@&lt;USER&gt;-001:~# umount /mnt
root@&lt;USER&gt;-001:~# exit
ubuntu@&lt;USER&gt;-001:~$ exit
$ nova volume-detach $USER-001 6d0d8285-xxxx-xxxx-xxxx-xxxxxxxxxxxx</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="set-up-external-access-to-your-instance">
<h2>13.3. Set up external access to your instance<a class="headerlink" href="#set-up-external-access-to-your-instance" title="Permalink to this headline">¶</a></h2>
<p>For making it possible to access your instance from external, you need
to create an external IP address and add it on your instance.</p>
<ol class="arabic">
<li><p class="first">Create an external ip address with:</p>
<div class="highlight-python"><pre>$ nova floating-ip-create
+-----------------+-------------+----------+------+
| Ip              | Instance Id | Fixed Ip | Pool |
+-----------------+-------------+----------+------+
| 198.202.120.193 | None        | None     | nova |
+-----------------+-------------+----------+------+</pre>
</div>
</li>
<li><p class="first">And then, put it on your instance with:</p>
<div class="highlight-python"><pre>$ nova add-floating-ip $USER-001 198.202.120.193
$ nova floating-ip-list
+-----------------+--------------------------------------+-------------+------+
| Ip              | Instance Id                          | Fixed Ip    | Pool |
+-----------------+--------------------------------------+-------------+------+
| 198.202.120.193 | c0bd849a-221a-4e53-bf7b-7097541a9bcc | 10.35.23.20 | nova |
+-----------------+--------------------------------------+-------------+------+</pre>
</div>
<p>Now you should be able to ping and ssh from external.</p>
</li>
</ol>
</div>
<div class="section" id="make-a-snapshot-of-an-instance">
<h2>13.4. Make a snapshot of an instance<a class="headerlink" href="#make-a-snapshot-of-an-instance" title="Permalink to this headline">¶</a></h2>
<p>Note: Please use your login name as a prefix followed by a /. If you
create an image for a particular project, please use the projectname. In
many cases the projectname is preferable in case multiple users share
the same images</p>
<ol class="arabic">
<li><p class="first">After you have worked on your instance, you will want to create a
snapshot of your instance. You can do it with:</p>
<div class="highlight-python"><pre>$ nova image-create $USER-001 $USER/custom-ubuntu-01
$ nova image-list
+--------------------------------------+----------------------------+--------+--------------------------------------+
| ID                                   | Name                       | Status | Server                               |
+--------------------------------------+----------------------------+--------+--------------------------------------+
| 18c437e5-d65e-418f-a739-9604cef8ab33 | futuregrid/fedora-18       | ACTIVE |                                      |
| 1a5fd55e-79b9-4dd5-ae9b-ea10ef3156e9 | futuregrid/ubuntu-12.04    | ACTIVE |                                      |
| f43375b4-44d3-4350-a9a8-a73f35589344 | &lt;USER&gt;/custom-ubuntu-01 | ACTIVE | c0bd849a-221a-4e53-bf7b-7097541a9bcc |
+--------------------------------------+----------------------------+--------+--------------------------------------+</pre>
</div>
</li>
<li><p class="first">If you want to download your customized image, you can do it with
this:</p>
<div class="highlight-python"><pre>$ glance image-download --file "custome-ubuntu-01.img" "$USER/custom-ubuntu-01"</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="automate-some-initial-configuration">
<h2>13.5. Automate some initial configuration<a class="headerlink" href="#automate-some-initial-configuration" title="Permalink to this headline">¶</a></h2>
<p>You may want to install some packages into the iamge, enable root, and
add ssh authorized_keys. With the OpenStack cloud-init such steps can
be simplified.</p>
<ol class="arabic">
<li><p class="first">Create a file(mycloudinit.txt) containing these lines:</p>
<div class="highlight-python"><pre>#cloud-config

# Enable root login.
disable_root: false
# Install packages.
packages:
- apt-show-versions
- wget
- build-essential
# Add some more ssh public keys.
ssh_authorized_keys:
- ssh-rsa AAAfkdfeiekf....fES7060rb myuser@s1
- ssh-rsa AAAAAAkgeig78...skdfjeigi myuser@myhost</pre>
</div>
</li>
<li><p class="first">Boot your instance with &#8211;user-data mycloudinit.txt like this:</p>
<div class="highlight-python"><pre>$ nova boot --flavor m1.small \
            --image "futuregrid/ubuntu-12.04" \
            --key_name $USER-key \
            --user-data mycloudinit.txt $USER-002</pre>
</div>
<p>You should be able to login to &lt;USER&gt;-002 as root, and the added
packages are installed.</p>
</li>
</ol>
</div>
<div class="section" id="get-the-latest-version-of-ubuntu-cloud-image-and-upload-it-to-the-openstack">
<h2>13.6. Get the latest version of Ubuntu Cloud Image and upload it to the OpenStack<a class="headerlink" href="#get-the-latest-version-of-ubuntu-cloud-image-and-upload-it-to-the-openstack" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Several versions of Ubuntu cloud images are available on
<a class="reference external" href="http://cloud-images.ubuntu.com/">http://cloud-images.ubuntu.com/</a>
. Choose the version you want and download the file name with
******-cloudimg-amd64-disk1.img. For example, downloading
Ubuntu-13.04(Raring Ringtail)is like this:</p>
<div class="highlight-python"><pre>$ wget http://cloud-images.ubuntu.com/raring/current/raring-server-cloudimg-amd...</pre>
</div>
</li>
<li><p class="first">Upload it with glance client like this:</p>
<div class="highlight-python"><pre>$ glance image-create \
       --name $USER/myimages/ubuntu-13.04 \
       --disk-format qcow2 \
       --container-format bare \
       --file raring-server-cloudimg-amd64-disk1.img</pre>
</div>
<p>Now your new image is listed on <tt class="docutils literal"><span class="pre">nova</span> <span class="pre">image-list</span></tt>and will be
available when the status become &#8220;ACTIVE&#8221;.</p>
</li>
</ol>
</div>
<div class="section" id="delete-your-instance">
<h2>13.7. Delete your instance<a class="headerlink" href="#delete-your-instance" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">You can delete your instance with:</p>
<div class="highlight-python"><pre>$ nova delete $USER-002</pre>
</div>
<p>Please do not forgetto also delete your 001 vm if you no longer need
it</p>
</li>
</ol>
</div>
<div class="section" id="how-to-change-your-password">
<h2>13.8. How to change your password<a class="headerlink" href="#how-to-change-your-password" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Sometimes, users accidentally send password to a corablator/support
for debugging, and then regret. When you put yourself in the
situation by mistake, don&#8217;t worry. Just use keystone client and reset
your password with:</p>
<div class="highlight-python"><pre>$ keystone password-update</pre>
</div>
<p>* Remember, you will also need to change it in your novarc. This can
be achieved by either editing your novarc file directly, or by
editing the file ~/.futuregrid/cloudmesh.yaml annd recreating your
novarc file.</p>
</li>
</ol>
</div>
<div class="section" id="things-to-do-when-you-need-euca2ools-or-ec2-interfaces">
<h2>13.9. Things to do when you need Euca2ools or EC2 interfaces<a class="headerlink" href="#things-to-do-when-you-need-euca2ools-or-ec2-interfaces" title="Permalink to this headline">¶</a></h2>
<p>Even though the nova client and protocols will provide you with more
advanced features, some users still want to access OpenStack with EC2
compatible tools. One such tool are the euca2tools. We explain briefly
how you can access them.</p>
<ol class="arabic">
<li><p class="first">Create a directory for putting eucarc, and create pk.pem, cert.pem
and cacert.pem:</p>
<div class="highlight-python"><pre>mkdir ~/eucacreds
cd ~/eucacreds
nova x509-create-cert
nova x509-get-root-cert
ls -la</pre>
</div>
</li>
<li><p class="first">Create EC2_ACCESS_KEY and EC2_SECRET_KEY:</p>
<div class="highlight-python"><pre>keystone ec2-credentials-create</pre>
</div>
</li>
<li><p class="first">Create eucarc file and put your EC2_ACCESS_KEY and
EC2_SECRET_KEY like this:</p>
<div class="highlight-python"><pre>export EC2_ACCESS_KEY="Your EC2_ACCESS_KEY"
export EC2_SECRET_KEY="Your EC2_SECRET_KEY"
export EC2_URL="http://s77r.idp.sdsc.futuregrid.org:8773/services/Cloud"
export S3_URL="http://s77r.idp.sdsc.futuregrid.org:3333"
export EC2_PRIVATE_KEY=${NOVA_KEY_DIR}/pk.pem
export EC2_CERT=${NOVA_KEY_DIR}/cert.pem
export NOVA_CERT=${NOVA_KEY_DIR}/cacert.pem
export EUCALYPTUS_CERT=${NOVA_CERT}
alias ec2-bundle-image="ec2-bundle-image --cert ${EC2_CERT} --privatekey ${EC2_PRIVATE_KEY} --user 42 --ec2cert ${NOVA_CERT}"
alias ec2-upload-bundle="ec2-upload-bundle -a ${EC2_ACCESS_KEY} -s ${EC2_SECRET_KEY} --url ${S3_URL} --ec2cert ${NOVA_CERT}"</pre>
</div>
</li>
<li><p class="first">Confirm if euca2ools works fine:</p>
<div class="highlight-python"><pre>module load euca2ools
source ~/eucacreds/eucarc
euca-describe-images
euca-describe-instances</pre>
</div>
</li>
</ol>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>