<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenNebula 2.0 Tutorial &mdash; FutureGrid 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="FutureGrid 0.1 documentation" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img src="_static/fg-logo-white-24x36.png">
          FutureGrid</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul>
<li class="toctree-l1"><a class="reference internal" href="preface.html">1. Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preface.html#citation-for-publications">1.1. Citation for Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#acknowledgement">1.2. Acknowledgement</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#sponsors">1.3. Sponsors</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#about-this-manual">1.4. About this Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#conventions">1.5. Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#executive-summary">1.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#project-and-account-application">1.2. Project and Account Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#services">1.3. Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#hardware">1.4. Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#support">1.5. Support</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account.html">1. Project and Account Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="account.html#terminology">1.1. Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#quickstart">1.2. Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#projects-and-accounts-for-xsede-users">1.3. Projects and Accounts for XSEDE users</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#project-management">1.4. Project Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="account.html#create-a-portal-account">1.4.1. Create a Portal account</a></li>
<li class="toctree-l3"><a class="reference internal" href="account.html#create-a-project">1.4.2. Create a Project</a><ul>
<li class="toctree-l4"><a class="reference internal" href="account.html#example-project">1.4.2.1. Example Project</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="account.html#join-a-project">1.4.3. Join a Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="account.html#delete-or-deactivate-a-user-from-a-project">1.4.4. Delete or Deactivate a user from a Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="account.html#reporting-results">1.4.5. Reporting Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="account.html#close-a-project">1.4.6. Close a Project</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="account.html#upload-a-ssh-public-key">1.5. Upload a SSH Public Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#upload-an-openid">1.6. Upload an OpenId</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#accessing-futuregrid-resources">1.7. Accessing FutureGrid Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#manage-a-class-on-futuregrid">1.8. Manage a Class on FutureGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#mini-faq">1.9. Mini FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">2. Using SSH Keys</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#using-ssh-from-windows">2.1. Using SSH from Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#generate-a-ssh-key">2.2. Generate a SSH key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#add-or-replace-passphrase-for-an-already-generated-key">2.3. Add or Replace Passphrase for an Already Generated Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#upload-the-key-to-the-futuregrid-portal">2.4. Upload the key to the FutureGrid Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#testing-your-ssh-key">2.5. Testing your ssh key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#testing-your-ssh-key-for-hotel">2.6. Testing your ssh key for Hotel</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="status.html">1. Status</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">1. Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#compute-resources">1.1. Compute Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#networks">1.2. Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#network-impairments-device-nid">1.3. Network Impairments Device (NID)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.html">2. HPC Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#login-nodes">2.1. Login Nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#ssh-add">2.1.1. SSH Add</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#ssh-config">2.1.2. SSH Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#modules">2.1.3. Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#list-of-available-modules-on-various-machines">2.1.4. List of Available Modules on Various Machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#filesystem-layout">2.1.5. Filesystem Layout</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#message-passing-interface-mpi">2.2. Message Passing Interface (MPI)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#mpi-libraries">2.2.1. MPI Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#compiling-mpi-applications">2.2.2. Compiling MPI Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#batch-jobs">2.2.3. Batch Jobs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#job-management">2.3. Job Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#job-submission">2.3.1. Job Submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#job-deletion">2.3.2. Job Deletion</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#job-monitoring">2.3.3. Job Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#job-output">2.3.4. Job Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#xray-hpc-services">2.4. Xray HPC Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.html#submitting-a-job-on-xray">2.4.1. Submitting a Job on xray</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scalemp.html">3. ScaleMP vSMP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#accessing-scalemp">3.1. Accessing ScaleMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#submitting-a-job">3.2. Submitting a job</a></li>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#developing-a-job-script">3.3. Developing a job script</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scalemp.html#mpi">3.3.1. MPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalemp.html#openmp">3.3.2. OpenMP</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalemp.html#threaded">3.3.3. Threaded</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalemp.html#throughput">3.3.4. Throughput</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalemp.html#serial">3.3.5. Serial</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="genesis.html">4. Genesis II</a><ul>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#introduction">4.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#what-is-genesisii">4.2. What is GenesisII</a></li>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#connecting-to-the-genesisii-bes-endpoints">4.3. Connecting to the GenesisII BES Endpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="genesis.html#supported-data-staging-protocols">4.3.1. Supported Data Staging Protocols</a><ul>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#stage-in">4.3.1.1. Stage in</a></li>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#stage-out">4.3.1.2. Stage out</a></li>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#endpoint-connection-information">4.3.1.3. Endpoint Connection Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="genesis.html#india">4.3.2. India</a></li>
<li class="toctree-l3"><a class="reference internal" href="genesis.html#sierra">4.3.3. Sierra</a><ul>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#alamo">4.3.3.1. Alamo</a></li>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#hotel">4.3.3.2. Hotel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="genesis.html#using-the-futuregrid-genesisii-endpoints-as-a-client">4.4. Using the Futuregrid GenesisII Endpoints as a Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="genesis.html#non-genesisii-using-a-standards-compliant-client">4.4.1. Non-GenesisII Using a Standards-Compliant Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="genesis.html#using-the-genesisii-client">4.4.2. Using The GenesisII Client</a><ul>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#acquiring-genesisii-client-package">4.4.2.1. Acquiring GenesisII Client Package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="genesis.html#linux">4.4.2.1.1. Linux</a></li>
<li class="toctree-l5"><a class="reference internal" href="genesis.html#windows">4.4.2.1.2. Windows</a></li>
<li class="toctree-l5"><a class="reference internal" href="genesis.html#macos">4.4.2.1.3. MacOS</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#installing-the-genesisii-xcg-client-package">4.4.2.2. Installing the GenesisII/XCG Client Package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="genesis.html#getting-started">4.4.3. Getting Started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#start-grid-shell">4.4.3.1. Start Grid Shell</a><ul>
<li class="toctree-l5"><a class="reference internal" href="genesis.html#id1">4.4.3.1.1. Windows</a></li>
<li class="toctree-l5"><a class="reference internal" href="genesis.html#linux-or-macos">4.4.3.1.2. Linux or MacOS</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="genesis.html#running-jobs">4.4.3.2. Running Jobs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="genesis.html#getting-help">4.4.4. Getting Help</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="unicore.html">5. Unicore</a><ul>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#unicore-6-on-futuregrid-user-manual">5.1. UNICORE 6 on FutureGrid User Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#introduction">5.2. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#what-is-unicore">5.3. What is UNICORE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#connecting-to-the-unicore-bes-endpoints-from-other-grid-middleware-clients">5.4. Connecting to the UNICORE BES Endpoints From Other Grid Middleware Clients</a><ul>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#india-endpoint-info-currently-unavailable">5.4.1. India Endpoint Info &lt;currently unavailable&gt;</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#sierra-endpoint-info">5.4.2. Sierra Endpoint Info</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#connecting-to-the-unicore-bes-endpoints-using-a-unicore-commandline-client">5.5. Connecting to the UNICORE BES Endpoints Using a UNICORE Commandline Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#installing-the-unicore-6-commandline-client-ucc">5.5.1. Installing the UNICORE 6 Commandline Client (UCC)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#acquire-client-bundle">5.5.1.1. Acquire Client Bundle</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#unpack-ucc">5.5.1.2. Unpack UCC</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#examine-ucc-files">5.5.1.3. Examine UCC Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#run-commandline-client">5.5.1.4. Run Commandline Client</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#installation-conclusion">5.5.1.5. Installation Conclusion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#configuring-client-to-connect-to-futuregrid-u6-endpoints">5.5.2. Configuring Client to Connect to FutureGrid U6 Endpoints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#configuration-overview">5.5.2.1. Configuration Overview</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#setting-up-security-in-unicore">5.5.3. Setting Up Security in UNICORE</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#setting-up-a-keystore">5.5.4. Setting Up a Keystore</a><ul>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#creating-a-truststore">5.5.4.1. Creating a Truststore</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#acquiring-the-registry-address">5.5.4.2. Acquiring the Registry Address</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#connecting-to-endpoints-w-o-registries">5.5.4.3. Connecting to Endpoints w/o Registries</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#preferences-file-modifications">5.5.4.4. Preferences File Modifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#example-preferences-file">5.5.4.5. Example Preferences File</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#locating-the-preferences-file">5.5.4.6. Locating the Preferences File</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#validate-client-setup">5.5.4.7. Validate Client Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#configuration-conclusion">5.5.4.8. Configuration Conclusion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#submitting-jobs-to-futuregrid-u6-endpoints">5.5.5. Submitting Jobs to FutureGrid U6 Endpoints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#getting-started">5.5.5.1. Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#submit-jobs-to-bes">5.5.5.2. Submit Jobs to BES</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#other-bes-related-commands">5.5.5.3. Other BES Related Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicore.html#job-submission-conclusion">5.5.5.4. Job Submission Conclusion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#references">5.5.6. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#questions-comments">5.5.7. Questions/Comments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#running-jobs-on-unicore-sites">5.6. Running Jobs on UNICORE Sites</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicore.html#deploying-a-new-unicore-6-grid">5.7. Deploying a New UNICORE 6 Grid</a><ul>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#prerequisites">5.7.1. Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#installing-the-core-server-bundle">5.7.2. Installing the Core Server Bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicore.html#starting-stopping-the-unicore-servers">5.7.3. Starting/Stopping the UNICORE Servers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="iaas.html">1. IaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#nimbus-clouds">1.1. Nimbus Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#openstack-clouds">1.2. OpenStack Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#eucalyptus-clouds">1.3. Eucalyptus Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#virtual-appliances-for-training-and-education">1.4. Virtual Appliances for Training and Education</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openstackhavana.html">2. OpenStack Havana</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#login">2.1. Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#setup-openstack-environment">2.2. Setup OpenStack Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#creating-the-novarc-file">2.3. Creating the novarc file</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#list-flavors">2.4. List flavors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#list-images">2.5. List images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#key-management">2.6. Key management</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#managing-security-groups">2.7. Managing security groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#booting-an-image">2.8. Booting an image</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#list-running-images">2.9. List running images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#use-block-storage">2.10. Use block storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#set-up-external-access-to-your-instance">2.11. Set up external access to your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#make-a-snapshot-of-an-instance">2.12. Make a snapshot of an instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#automate-some-initial-configuration">2.13. Automate some initial configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#get-the-latest-version-of-ubuntu-cloud-image-and-upload-it-to-the-openstack">2.14. Get the latest version of Ubuntu Cloud Image and upload it to the OpenStack</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#delete-your-instance">2.15. Delete your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#how-to-change-your-password">2.16. How to change your password</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#things-to-do-when-you-need-euca2ools-or-ec2-interfaces">2.17. Things to do when you need Euca2ools or EC2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackhavana.html#horizon-gui">2.18. Horizon GUI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openstackgrizzly.html">3. OpenStack Grizzly</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#login">3.1. Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#creating-the-novarc-file">3.2. Creating the novarc file</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#activate-openstack-tools">3.3. Activate OpenStack tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#list-flavors">3.4. List flavors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#list-images">3.5. List images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#standard-images">3.6. Standard Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#key-management">3.7. Key management</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#managing-security-groups">3.8. Managing security groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#booting-an-image">3.9. Booting an image</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#list-running-images">3.10. List running images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#use-block-storage">3.11. Use block storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#set-up-external-access-to-your-instance">3.12. Set up external access to your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#make-a-snapshot-of-an-instance">3.13. Make a snapshot of an instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#automate-some-initial-configuration">3.14. Automate some initial configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#get-the-latest-version-of-ubuntu-cloud-image-and-upload-it-to-the-openstack">3.15. Get the latest version of Ubuntu Cloud Image and upload it to the OpenStack</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#delete-your-instance">3.16. Delete your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#how-to-change-your-password">3.17. How to change your password</a><ul>
<li class="toctree-l3"><a class="reference internal" href="openstackgrizzly.html#things-to-do-when-you-need-euca2ools-or-ec2-interfaces">3.17.1. Things to do when you need Euca2ools or EC2 interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="openstackgrizzly.html#horizon-gui">3.18. Horizon GUI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="openstackgrizzly.html#getting-rc-files-via-horizon">3.18.1. Getting rc files via Horizon</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="os-virtualbox.html">4. Converting Virtualbox images to OpenStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#prerequisites">4.1. Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="os-virtualbox.html#disable-selinux-only-for-redhat-based-linux-like-centos">4.1.1. Disable SELinux (Only for RedHat-based Linux like CentOS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="os-virtualbox.html#configuring-the-image-network-interface-eth0-for-dhcp">4.1.2. Configuring the image network interface (eth0) for DHCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="os-virtualbox.html#configure-the-image-to-allow-openstack-to-inject-the-ssh-key">4.1.3. Configure the image to allow OpenStack to inject the ssh key</a></li>
<li class="toctree-l3"><a class="reference internal" href="os-virtualbox.html#configure-udev-persistent-rules-only-centos">4.1.4. Configure udev persistent rules (only CentOS)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#convert-your-virtual-box-image-to-raw-format">4.2. Convert your virtual box image to raw format</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#convert-the-image-to-qcow2-format-optional">4.3. Convert the image to qcow2 format (optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#test-your-image">4.4. Test your image</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#transfer-your-image-to-india">4.5. Transfer your Image to India</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#log-into-india">4.6. Log into India</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#upload-your-image-to-openstack">4.7. Upload your image to OpenStack</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#checking-status-image">4.8. Checking Status Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#test-image-in-openstack">4.9. Test Image in OpenStack</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#troubleshooting">4.10. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="os-virtualbox.html#notes">4.11. Notes:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nimbus.html">5. Nimbus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#nimbus-iaas">5.1. Nimbus IaaS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#image0">5.1.1. </a></li>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#what-is-nimbus">5.1.2. What is Nimbus?</a></li>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#nimbus-on-futuregrid">5.1.3. Nimbus on FutureGrid</a></li>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#getting-started">5.1.4. Getting Started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#log-into-hotel">5.1.4.1. Log into hotel</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#download-and-install-cloud-client">5.1.4.2. Download and install cloud-client</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#obtain-your-nimbus-credentials-and-configuration-files">5.1.4.3. Obtain Your Nimbus Credentials and Configuration Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#check-your-ssh-key">5.1.4.4. Check Your ssh Key</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#using-the-cloud-client">5.1.5. Using the Cloud Client</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#check-out-the-various-futuregrid-clouds">5.1.5.1. Check out the various FutureGrid clouds</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#run-a-virtual-machine">5.1.5.2. Run a Virtual Machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#create-a-new-vm-image">5.1.5.3. Create a New VM Image</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#save-the-changes-to-a-new-vm">5.1.5.4. Save the Changes to a New VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#launch-your-new-vm">5.1.5.5. Launch Your New VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#terminate-the-vm">5.1.5.6. Terminate the VM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#virtual-clusters">5.1.6. Virtual Clusters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#cluster-definition-file">5.1.6.1. Cluster Definition File</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#start-the-cluster">5.1.6.2. Start the Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="nimbus.html#check-out-the-virtual-cluster">5.1.6.3. Check Out the Virtual Cluster</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#launch-a-vm-via-nimbus">5.2. Launch A VM via Nimbus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#options">5.2.1. Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="nimbus.html#what-happens">5.2.2. What Happens</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#cloudinit-d">5.3. cloudinit.d</a></li>
<li class="toctree-l2"><a class="reference internal" href="nimbus.html#phantom">5.4. Phantom</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="eucalyptus.html">6. Eucalyptus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#account-setup">6.1. Account Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#resources-overview">6.2. Resources Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#testing-your-setup">6.3. Testing Your Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-deployment">6.4. Image Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#logging-into-the-vm">6.5. Logging Into the VM</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#vm-network-info">6.6. VM Network Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-management">6.7. Image Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#status-of-deployments">6.8. Status of Deployments</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="experiment-interactive.html">1. Interactive Experiment Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="experiment-interactive.html#host-list-manager">1.1. Host List Manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="experiment-interactive.html#host-list-manager-setup">1.1.1. Host List Manager Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="experiment-interactive.html#provisioning-hosts">1.1.2. Provisioning Hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="experiment-interactive.html#managing-host-lists">1.1.3. Managing Host Lists</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="experiment-interactive.html#taktuk">1.2. TakTuk</a><ul>
<li class="toctree-l3"><a class="reference internal" href="experiment-interactive.html#running-experiments-with-taktuk">1.2.1. Running Experiments with TakTuk</a></li>
<li class="toctree-l3"><a class="reference internal" href="experiment-interactive.html#host-list-manager-commands">1.2.2. Host List Manager Commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="experiment-interactive.html#hupdate">1.2.2.1. hupdate</a></li>
<li class="toctree-l4"><a class="reference internal" href="experiment-interactive.html#hmanage">1.2.2.2. hmanage</a></li>
<li class="toctree-l4"><a class="reference internal" href="experiment-interactive.html#hshow">1.2.2.3. hshow</a></li>
<li class="toctree-l4"><a class="reference internal" href="experiment-interactive.html#htag">1.2.2.4. htag</a></li>
<li class="toctree-l4"><a class="reference internal" href="experiment-interactive.html#hlist">1.2.2.5. hlist</a></li>
<li class="toctree-l4"><a class="reference internal" href="experiment-interactive.html#htaktuk">1.2.2.6. htaktuk</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="experiment-interactive.html#taktuk-commands">1.2.3. TakTuk Commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="precip.html">2. Precip</a><ul>
<li class="toctree-l2"><a class="reference internal" href="precip.html#installation">2.1. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="precip.html#api">2.2. API</a></li>
<li class="toctree-l2"><a class="reference internal" href="precip.html#examples">2.3. Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="precip.html#hello-world">2.3.1. Hello World</a></li>
<li class="toctree-l3"><a class="reference internal" href="precip.html#resources-from-mulitple-infrastructures">2.3.2. Resources from mulitple infrastructures</a></li>
<li class="toctree-l3"><a class="reference internal" href="precip.html#setting-up-a-condor-pool-and-running-a-pegasus-workflow">2.3.3. Setting up a Condor pool and running a Pegasus workflow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pegasus.html">3. Pegasus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pegasus.html#the-pegasus-run-time-cloud-architecture">3.1. The Pegasus Run-Time Cloud Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="pegasus.html#using-pegasus-on-futuregrid">3.2. Using Pegasus on FutureGrid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rain.html">4. RAIN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rain.html#generate-and-register-an-os-image-on-futuregrid-using-the-fg-shell">4.1. Generate and Register an OS Image on FutureGrid using the FG Shell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rain.html#request-access">4.1.1. Request access</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#log-into-india">4.1.2. Log into India</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#start-the-shell">4.1.3. Start the Shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#generate-the-image">4.1.4. Generate the Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#image-repository">4.1.5. Image Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#register-image">4.1.6. Register Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#start-image">4.1.7. Start Image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#futuregrid-standalone-image-repository">4.2. FutureGrid Standalone Image Repository</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rain.html#requirement">4.2.1. Requirement</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#software">4.2.2. Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#documentation">4.2.3. Documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rain.html#user-manual">4.2.3.1. User Manual</a></li>
<li class="toctree-l4"><a class="reference internal" href="rain.html#installation">4.2.3.2. Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="rain.html#configuration">4.2.3.3. Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#manual-image-customization">4.3. Manual Image Customization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rain.html#logging-into-india">4.3.1. Logging into India</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#requesting-access">4.3.2. Requesting access</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#obtaining-the-image">4.3.3. Obtaining the image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rain.html#getting-an-image-from-the-repository">4.3.3.1. Getting an image from the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="rain.html#generating-a-new-image">4.3.3.2. Generating a new image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#customizing-the-image">4.3.4. Customizing the image</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#transfer-the-image-back-to-india">4.3.5. Transfer the image back to India</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#id1">4.3.6. Log into India</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#upload-the-image-to-the-repository">4.3.7. Upload the image to the repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#register-your-image-in-different-infrastructures">4.3.8. Register your image in different infrastructures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rain.html#register-the-image-in-openstack">4.3.8.1. Register the image in Openstack</a></li>
<li class="toctree-l4"><a class="reference internal" href="rain.html#register-the-image-in-eucalyptus">4.3.8.2. Register the image in Eucalyptus</a></li>
<li class="toctree-l4"><a class="reference internal" href="rain.html#register-the-image-in-hpc">4.3.8.3. Register the image in HPC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rain.html#using-your-registered-image">4.3.9. Using your Registered Image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#rain-manual-pages">4.4. RAIN Manual Pages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rain.html#fg-portal-manage">4.4.1. fg-portal-manage</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hadoop.html">1. Using Hadoop in FutureGrid</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hadoop.html#running-hadoop-as-a-batch-job-using-myhadoop">1.1. Running Hadoop as a Batch Job using MyHadoop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hadoop.html#myhadoop-on-futuregrid">1.1.1. myHadoop on FutureGrid</a><ul>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#login-into-a-machine-tha-has-myhadoop-installed">1.1.1.1. Login into a machine tha has myHadoop installed</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#load-the-needed-modules">1.1.1.2. Load the needed modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#run-the-example">1.1.1.3. Run the Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#deatails-of-the-script">1.1.1.4. Deatails of the Script</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#submission-of-the-hadoop-job">1.1.1.5. Submission of the Hadoop job</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#persistent-mode">1.1.1.6. Persistent Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#customizing-hadoop-settings">1.1.1.7. Customizing Hadoop Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#using-a-different-installation-of-hadoop">1.1.1.8. Using a Different Installation of Hadoop</a></li>
<li class="toctree-l4"><a class="reference internal" href="hadoop.html#refernces">1.1.1.9. Refernces</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="papi.html">1. PAPI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="papi.html#availability">1.1. Availability</a></li>
<li class="toctree-l2"><a class="reference internal" href="papi.html#references">1.2. References</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="books.html">1. Books</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mooc.html">1. Screencast: Using FutureGrid</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#overview">1.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#prerequisites">1.2. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#instructor-bio">1.3. Instructor Bio</a></li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#course-content">1.4. Course Content</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mooc.html#creating-futuregrid-accounts-and-projects">1.4.1. Creating FutureGrid Accounts and Projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="mooc.html#openstack-on-futuregrid">1.4.2. OpenStack on FutureGrid</a></li>
<li class="toctree-l3"><a class="reference internal" href="mooc.html#eucalyptus-on-futuregrid">1.4.3. Eucalyptus on FutureGrid</a></li>
<li class="toctree-l3"><a class="reference internal" href="mooc.html#batch-jobs-including-hadoop-on-futuregrid">1.4.4. Batch Jobs including Hadoop  on FutureGrid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#exercises">1.5. Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mooc.html#id1">1.5.1. Creating FutureGrid Accounts and Projects</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="git.html">1. Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">2. Contributing to the Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#organisation-of-the-manual-in-git">2.1. Organisation of the Manual in Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#faq">2.2. FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#publication-of-the-manual">2.3. Publication of the Manual</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html#setting-up-the-expert-developers-manual-editing-environment">3. Setting Up the Expert Developers Manual Editing Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#python">3.1. Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#virtualenv">3.2. Virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#create-a-github-local-directory-with-the-manual">3.3. Create a github local directory with the manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#install-the-requirements">3.4. Install the Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#all-in-one-setup-script">3.5. All-in-one setup script</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#watchdog">3.6. Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#transfering-a-page-from-the-portal-to-rst">3.7. Transfering a page from the portal to RST</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#creating-the-pages-locally">3.8. Creating the pages locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#publishing-the-pages">3.9. Publishing the pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#jira">3.10. Jira</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#portal-link">3.11. Portal link</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#screencast-recording-tips">3.12. Screencast recording tips</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#osx">3.12.1. OSX</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#changing-the-prompt">3.12.2. Changing the prompt</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#recording-of-typed-in-commands">3.12.3. Recording of typed in commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#setup-quicktime-sound-recording">3.12.4. Setup quicktime sound recording</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ring.html">1. MPI Ring Program</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">OpenNebula 2.0 Tutorial</a></li>
<li><a class="reference internal" href="#create-a-vm-image-contextualized-for-opennebula">Create a VM Image Contextualized for OpenNebula</a><ul>
<li><a class="reference internal" href="#create-vm-image-using-kvm">Create VM Image Using KVM</a></li>
<li><a class="reference internal" href="#contextualize-vm">Contextualize VM</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-virtual-machines">Managing Virtual Machines</a><ul>
<li><a class="reference internal" href="#virtual-machine-template">Virtual Machine Template</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-the-image-repository">Managing the Image Repository</a></li>
<li><a class="reference internal" href="#managing-physical-hosts-and-clusters">Managing Physical Hosts and Clusters</a><ul>
<li><a class="reference internal" href="#managing-hosts">Managing Hosts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-virtual-networks">Managing Virtual Networks</a><ul>
<li><a class="reference internal" href="#defining-a-virtual-network">Defining a Virtual Network</a><ul>
<li><a class="reference internal" href="#fixed-virtual-network">Fixed Virtual Network</a></li>
<li><a class="reference internal" href="#ranged-virtual-network">Ranged Virtual Network</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-and-deleting-virtual-networks">Adding and Deleting Virtual Networks</a></li>
<li><a class="reference internal" href="#using-the-leases-within-the-virtual-machine">Using the Leases Within the Virtual Machine</a><ul>
<li><a class="reference internal" href="#configuring-the-virtual-machine-to-use-the-leases">Configuring the Virtual Machine to Use the Leases</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#accounting">Accounting</a><ul>
<li><a class="reference internal" href="#physical-resources">Physical Resources</a></li>
<li><a class="reference internal" href="#virtual-resources">&nbsp;&nbsp;Virtual Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#user-management">User Management</a><ul>
<li><a class="reference internal" href="#adding-new-users">Adding New Users</a><ul>
<li><a class="reference internal" href="#public-key-extraction-done-by-users">Public Key Extraction (Done by Users)</a></li>
<li><a class="reference internal" href="#user-creation-done-by-the-administrator">User Creation (done by the administrator)</a></li>
<li><a class="reference internal" href="#user-login-done-by-users">User Login (Done by Users)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quota">Quota</a><ul>
<li><a class="reference internal" href="#quotas-database-security-done-by-the-administrator">Quotas Database Security (Done by the Administrator)</a></li>
<li><a class="reference internal" href="#default-quotas-done-by-the-administrator">Default Quotas (Done by the Administrator)</a></li>
<li><a class="reference internal" href="#explicit-user-quotas-done-by-the-administrator">Explicit User Quotas (Done by the Administrator)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/opennebula.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="opennebula-2-0-tutorial">
<h1>OpenNebula 2.0 Tutorial<a class="headerlink" href="#opennebula-2-0-tutorial" title="Permalink to this headline">¶</a></h1>
<p>This document is aimed to be a guide to start using OpenNebula 2.0.
Therefore, if you need more information about any particular OpenNebula
aspect that it is not addressed here, please refer to the official
documentation located in
(<a class="reference external" href="http://www.opennebula.org/documentation:documentation">http://www.opennebula.org/documentation:documentation</a>)</p>
<p>If you are a user that is only interested in test OpenNebula with some
pre-configured VM, you can use this guide
(<a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:vmg">http://www.opennebula.org/documentation:rel2.0:vmg</a>).</p>
<p>ALL users have to add the following lines to their $HOME/.bashrc or
$HOME/.profile file.</p>
<div class="highlight-python"><pre>export PATH=$PATH:$ONE_LOCATION/bin
export ONE_AUTH=$HOME/.one/one_ssh</pre>
</div>
</div>
<div class="section" id="create-a-vm-image-contextualized-for-opennebula">
<h1>Create a VM Image Contextualized for OpenNebula<a class="headerlink" href="#create-a-vm-image-contextualized-for-opennebula" title="Permalink to this headline">¶</a></h1>
<p>In this section we are going to explain how to create a KVM image and
how to contextualize for OpenNebula.</p>
<div class="section" id="create-vm-image-using-kvm">
<h2>Create VM Image Using KVM<a class="headerlink" href="#create-vm-image-using-kvm" title="Permalink to this headline">¶</a></h2>
<p>This process is generic and it is not related with OpenNebula directly.
Therefore, this image can be deploy in any machine with KVM and could be
used to create a VM image for any IaaS framework. The first step is
install KVM.</p>
<p>Ubuntu</p>
<div class="highlight-python"><pre>sudo apt-get install qemu kvm

sudo apt-get install libvirt-bin</pre>
</div>
<p>RHEL or CentOS</p>
<div class="highlight-python"><pre>sudo yum install kvm virt-manager</pre>
</div>
<p>Be sure that the virtualization features of your machine are enabled in
the BIOS. If they are, you should be able to load the KVM
modules</p>
<div class="highlight-python"><pre>sudo modprobe kvm-intel
or
sudo modprobe kvm-amd</pre>
</div>
<p>Now, we need to download the ISO that we are going to install in the VM,
in this case Ubuntu iso. You can do it from
<a class="reference external" href="http://ubuntu-releases.cs.umn.edu/10.10/ubuntu-10.10-server-amd64.iso">http://ubuntu-releases.cs.umn.edu/10.10/ubuntu-10.10-server-amd64.iso.</a></p>
<p>Every VM need a disk to be used as a virtual hard drive (1GB is enough
for Ubuntu server). Thus, to create this we use the next command:</p>
<div class="highlight-python"><pre>qemu-img create machine_name.img -f raw 1G</pre>
</div>
<p>After this, we are prepared to boot the VM and install the OS.</p>
<div class="highlight-python"><pre>kvm -m 512 -cdrom /home/user/ubuntu-10.10-server-amd64.iso -boot d machine_name.img</pre>
</div>
<p>This command will start the VM and you can install the OS as in a normal
PC. When you install the OS in the VM you can boot it using this
command:</p>
<div class="highlight-python"><pre>kvm -no-acpi -m 512 machine_name.img</pre>
</div>
</div>
<div class="section" id="contextualize-vm">
<h2>Contextualize VM<a class="headerlink" href="#contextualize-vm" title="Permalink to this headline">¶</a></h2>
<p>There are two contextualization mechanisms available in OpenNebula: the
automatic IP assignment, and a more generic way to give any file and
configuration parameters. You can use any of them individually, or both.
Nevertheless, we need to prepare the VM image to use this mechanism
(<a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:cong">http://www.opennebula.org/documentation:rel2.0:cong</a>).</p>
<p>First, download the vmcontext.sh&nbsp; file in your machine. This file depend
of your linux distribution.</p>
<div class="highlight-python"><pre>http://dev.opennebula.org/projects/opennebula/repository/show/share/scripts</pre>
</div>
<p>In this address you can find the vmcontext for each supported
distribution.
CentOS</p>
<div class="highlight-python"><pre>wget http://dev.opennebula.org/projects/opennebula/repository/revisions/master/raw/share/scripts/centos-5/net-vmcontext/vmcontext -O vmcontext.sh</pre>
</div>
<p>Ubuntu</p>
<div class="highlight-python"><pre>wget http://dev.opennebula.org/projects/opennebula/repository/revisions/master/raw/share/scripts/ubuntu/net-vmcontext/vmcontext -O vmcontext.sh</pre>
</div>
<p>Copy this file to the VM. To do that you can configure a network
interface in the VM and send the file using ssh. For example if your
machine has the private IP 192.168.1.1, you could assign to the VM the
192.168.1.2. So, execute this command in the VM:</p>
<div class="highlight-python"><pre>sudo ifconfig eht0 192.168.1.2</pre>
</div>
<p>From your machine execute this command to send the file to your VM:</p>
<div class="highlight-python"><pre>scp vmcontext.sh 192.168.1.2:/home/user</pre>
</div>
<p>In the VM copy the file to the /etc/init.d directory:</p>
<div class="highlight-python"><pre>sudo cp vmcontext.sh /etc/init.d
sudo chmod +x /etc/init.d/vmcontext.sh</pre>
</div>
<p>Configure init.d to execute the script during the VM startup
Centos</p>
<div class="highlight-python"><pre>sudo chkconfig --add vmcontext.sh</pre>
</div>
<p>Ubuntu</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ln</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">vmcontext</span><span class="o">.</span><span class="n">sh</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">rc2</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">S01vmcontext</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Add at the end of this file (this may not be needed):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ifup</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><pre>/etc/init.d/networking restart  #(in ubuntu)
/etc/init.d/network restart     #(in centos)</pre>
</div>
<p>Remove the udev persistent files (ubuntu only)</p>
<div class="highlight-python"><pre>sudo rm -f /etc/udev/rules.d/z25_persistent-net.rules

sudo rm -f /etc/udev/rules.d/z45_persistent-net-generator.rules</pre>
</div>
<p>With all these steps we have configured the automatic IP assignment in
the VM. Now, we need to enable the generic contextualization by copying
these lines to /etc/rc.local.</p>
<div class="highlight-python"><pre>mount -t iso9660 /dev/sr0 /mnt  #(in ubuntu)
mount -t iso9660 /dev/hdc /mnt  #(in centos. Actually this depend on the initrd that you uses. If you use the one provided by Ubuntu then you use the previous line instead of this one)

if [ -f /mnt/context.sh ]; then

      . /mnt/init.sh

fi

umount /mnt

exit 0</pre>
</div>
<p>The file init.sh is different for each distribution and you can find
them in the <a class="reference external" href="http://dev.opennebula.org/projects/opennebula/repository/revisions/master/show/share/scripts">OpenNebula
repository</a>.
You do not need to include it in the VM because it is included
automatically by OpenNebula when you require it in the VM template.</p>
</div>
</div>
<div class="section" id="managing-virtual-machines">
<h1>Managing Virtual Machines<a class="headerlink" href="#managing-virtual-machines" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:vm_guide">(http://www.opennebula.org/documentation:rel2.0:vm_guide)</a></p>
<p>A Virtual Machine within the OpenNebula system consists of:</p>
<ul class="simple">
<li>A capacity in terms memory and CPU</li>
<li>A set of NICs attached to one or more virtual networks</li>
<li>A set of <strong>disk images</strong>.</li>
<li>A state file (optional) or <strong>recovery file</strong>, that contains the
memory image of a running VM plus some hypervisor specific
information.</li>
</ul>
<p>The above items, plus some additional VM attributes like the OS kernel
and context information to be used inside the VM, are specified in a
<strong>`VM
template &lt;http://www.opennebula.org/documentation:rel2.0:template&gt;`__</strong>
file.</p>
<p>Each VM in OpenNebula is identified by an unique number, the <tt class="docutils literal"><span class="pre">&lt;VID&gt;</span></tt>.
Also, the user can assign it a name in the <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:template">VM
template</a>,
the default name for each VM is <tt class="docutils literal"><span class="pre">one-&lt;VID&gt;</span></tt>.</p>
<div class="section" id="virtual-machine-template">
<h2>Virtual Machine Template<a class="headerlink" href="#virtual-machine-template" title="Permalink to this headline">¶</a></h2>
<p>OpenNebula templates are designed to be hypervisor-agnostic, but there
are still some peculiarities to be taken into account, and mandatory
attributes change depending on the target hypervisor. Hypervisor
specific information for this attributes can be found in the drivers
configuration guides:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:xeng">Xen Adaptor</a></li>
<li><a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:kvmg">KVM Adaptor</a></li>
<li><a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:vmwareg">VMware
Adaptor</a></li>
</ul>
<p>OpenNebula has been designed to be easily extended, so any attribute
name can be defined for later use in any OpenNebula module. There are
some pre-defined attributes, though.</p>
<p>Please check the <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:template">Virtual Machine definition
file</a>
reference for details on all the sections.</p>
<p>A basic VM template to be run using KVM could be this:</p>
<div class="highlight-python"><pre>#---------------------------------------
# VM definition example
#---------------------------------------

NAME = "ttylinux"

CPU    = 0.5
MEMORY = 64

# --- disks ---

DISK = [
  source   = "/srv/cloud/images/ttylinux/ttylinux.img",
  target   = "hda",
  readonly = "no" ]

# --- 1 NIC ---

NIC = [ NETWORK="Red LAN"]

FEATURES=[ acpi="no" ]

# --- VNC server ---

GRAPHICS = [
  type    = "vnc",
  listen  = "127.0.0.1"]</pre>
</div>
<p>In the previous template KVM will asume that the image is RAW. If you
have a image with the qcow2 format, you have to add the following to the
DISK description:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">driver</span> <span class="o">=</span> <span class="s">&quot;qcow2&quot;</span>
</pre></div>
</div>
<p>Assuming we have a VM template called &#8220;ttylinux.one&#8221; describing a
virtual machine. Then, we can allocate the VM in OpenNebula issuing a:</p>
<p>afterwards, the VM can be listed with the <tt class="docutils literal"><span class="pre">list</span></tt> option:</p>
</div>
</div>
<div class="section" id="managing-the-image-repository">
<h1>Managing the Image Repository<a class="headerlink" href="#managing-the-image-repository" title="Permalink to this headline">¶</a></h1>
<p>The Image Repository system allows OpenNebula administrators and users
to set up images, which can be operative systems or data, to be used in
Virtual Machines easily. These images can be used by several Virtual
Machines simultaneously, and also shared with other users.</p>
<p>This is what a sample template looks like:</p>
<p>To submit the template, you have to issue the command</p>
<p>You can use the <tt class="docutils literal"><span class="pre">oneimage</span> <span class="pre">list</span></tt> command to check the available images
in the repository.</p>
<p>There other commands to manage the images sotored in the Image
Repository:</p>
<ul class="simple">
<li>Use the <tt class="docutils literal"><span class="pre">oneimage</span> <span class="pre">publish</span></tt> and <tt class="docutils literal"><span class="pre">oneimage</span> <span class="pre">unpublish</span></tt> commands to
make your images public for every user to use in their virtual
machines, or private.</li>
<li>Use the <tt class="docutils literal"><span class="pre">oneimage</span> <span class="pre">persistent</span></tt> and <tt class="docutils literal"><span class="pre">oneimage</span> <span class="pre">nonpersistent</span></tt>
commands to make your images persistent (they are not cloned, but
rather used from the original image) or not. A persistent image
cannot be published.</li>
</ul>
<p>The only difference with the previous VM template is that now, you only
need to specify the name of the image that you want to use in the DISK
section.</p>
<p>Assuming that the template containing the previous information is called
template.one, you can deploy the VM using the command:</p>
<p>Once the VM is deployed you can save the changes made to any disk as a
new image. To do so, use the <tt class="docutils literal"><span class="pre">onevm</span> <span class="pre">saveas</span></tt> command. This command
takes three or four arguments: The VM name (or ID), the disk_id to
save, the name of the new image to register, and optionally the image
type.</p>
<p>To know the DISK_ID of the disk you want to save, just take a look at
the <tt class="docutils literal"><span class="pre">onevm</span> <span class="pre">show</span></tt> output for your VM.</p>
<p>The DISK_IDs are assigned in the same order the disks were defined in
the <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:template">VM
template</a>.</p>
<p>This will register a new image called “Ubuntu with Apache and MySQL”,
that will be ready as soon as the VM is shut down.</p>
<p>The disks can be saved even if they were defined from a local disk file
(see the <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:template">VM
template</a>
reference guide for more information on the different kinds of disks).</p>
</div>
<div class="section" id="managing-physical-hosts-and-clusters">
<h1>Managing Physical Hosts and Clusters<a class="headerlink" href="#managing-physical-hosts-and-clusters" title="Permalink to this headline">¶</a></h1>
<p>(<a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:cluster_guide">http://www.opennebula.org/documentation:rel2.0:cluster_guide</a>)</p>
<p>In order to use your existing physical nodes, you have to add them to
the system as OpenNebula hosts. You need the following information:</p>
<ul class="simple">
<li><em>Hostname</em> of the cluster node or IP</li>
<li><em>Information Driver</em> to be used to monitor the host, e.g. <tt class="docutils literal"><span class="pre">im_kvm</span></tt>.</li>
<li><em>Storage Driver</em> to clone, delete, move or copy images into the host,
e.g. <tt class="docutils literal"><span class="pre">tm_nfs</span></tt>.</li>
<li><em>Virtualization Driver</em> to boot, stop, resume or migrate VMs in the
host, e.g. <tt class="docutils literal"><span class="pre">vmm_kvm</span></tt>.</li>
</ul>
<p><a href="#id1"><span class="problematic" id="id2">|:!:|</span></a> Before adding a host check that you can ssh to it without being
prompt for a password</p>
<div class="section" id="managing-hosts">
<h2>Managing Hosts<a class="headerlink" href="#managing-hosts" title="Permalink to this headline">¶</a></h2>
<p>Hosts can be added to the system anytime with the <tt class="docutils literal"><span class="pre">onehost</span></tt> command.
You can add the cluster nodes to be used by OpenNebula.</p>
<p>This is two example of adding a KVM host.</p>
<p>This is an example of adding a XEN host.</p>
<p>Note that in the two previous examples we are using tm_nfs. This means
that OpenNebula is configured to share the VM directory or to use SSH
with no share directory. Other option is the use of LVM. More
information about the diferent storage system supported can be found in
<a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:sm">http://www.opennebula.org/documentation:rel2.0:sm</a></p>
<p>The status of the cluster can be checked with the <tt class="docutils literal"><span class="pre">onehost</span> <span class="pre">list</span></tt>
command:</p>
<p>And specific information about a host with <tt class="docutils literal"><span class="pre">show</span></tt>:</p>
<p>If you want not to use a given host you can temporarily disable it:</p>
<p>A disabled host should be listed with <tt class="docutils literal"><span class="pre">STAT</span> <span class="pre">off</span></tt> by <tt class="docutils literal"><span class="pre">onehost</span> <span class="pre">list</span></tt>.
You can also remove a host permanently with:</p>
<p><a href="#id3"><span class="problematic" id="id4">|:!:|</span></a> Detailed information of the <tt class="docutils literal"><span class="pre">onehost</span></tt> utility can be found <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:cli#onehost">in
the Command Line
Reference</a></p>
<p>If you use the <tt class="docutils literal"><span class="pre">onecluster</span> <span class="pre">list</span></tt> command you will see that the
“default” cluster is created automatically.</p>
<p>You may want to isolate your physical hosts running virtual machines
containing important services for you business, from the virtual
machines running a development version of your software. The OpenNebula
administrator can do so with these commands:</p>
<p>From this point, the newly created machines can use this cluster names
as a <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:template#placement_section">placement
requirement</a>:</p>
<p>Once your development cycle is finished, this “testing” and “production”
clusters may not be useful any more. Let&#8217;s delete the testing cluster.</p>
<p>As you can see, the hosts assigned to the “testing” cluster have been
moved to the “default” one.</p>
<p><a href="#id5"><span class="problematic" id="id6">|:!:|</span></a> Detailed information of the <tt class="docutils literal"><span class="pre">onecluster</span></tt> utility can be found in
the <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:cli#onecluster">Command Line
Reference</a></p>
</div>
</div>
<div class="section" id="managing-virtual-networks">
<h1>Managing Virtual Networks<a class="headerlink" href="#managing-virtual-networks" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:vgg">(</a><a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:vgg">http://www.opennebula.org/documentation:rel2.0:vgg</a>)</p>
<p>A cluster node is connected to one or more networks that are available
to the virtual machines through the corresponding bridges. To set up a
virtual networks you just need to know the name of the bridge to bind
the virtual machines to.</p>
<div class="section" id="defining-a-virtual-network">
<h2>Defining a Virtual Network<a class="headerlink" href="#defining-a-virtual-network" title="Permalink to this headline">¶</a></h2>
<p>OpenNebula allows for the creation of Virtual Networks by mapping them
on top of the physical ones. All Virtual Networks are going to share a
default value for the MAC preffix, set in the <tt class="docutils literal"><span class="pre">oned.conf</span></tt> file.</p>
<p>There are two types of Virtual Networks in OpenNebula:</p>
<ol class="arabic simple">
<li><strong>Fixed</strong>, defines a fixed set of IP-MAC pair addresses</li>
<li><strong>Ranged</strong>, defines a class network.</li>
</ol>
<p><a href="#id7"><span class="problematic" id="id8">|:!:|</span></a> Virtual Networks created by <tt class="docutils literal"><span class="pre">oneadmin</span></tt> can be used by every
other user.</p>
<div class="section" id="fixed-virtual-network">
<h3>Fixed Virtual Network<a class="headerlink" href="#fixed-virtual-network" title="Permalink to this headline">¶</a></h3>
<p>For example to create a Fixed Virtual Network, called <tt class="docutils literal"><span class="pre">Public</span></tt> with
the set of public IPs to be used by the VMs, just create a file with the
following contents:</p>
<p>where <strong>LEASES</strong>: Definition of the IP-MAC pairs. If an IP is defined,
and there is no associated MAC, OpenNebula will generate it using the
following rule: <tt class="docutils literal"><span class="pre">MAC</span> <span class="pre">=</span> <span class="pre">MAC_PREFFIX:IP</span></tt>. So, for example, from IP
10.0.0.1 and MAC_PREFFIX 00:16, we get 00:16:0a:00:00:01. Defining only
a MAC address with no associated IP is not allowed.</p>
</div>
<div class="section" id="ranged-virtual-network">
<h3>Ranged Virtual Network<a class="headerlink" href="#ranged-virtual-network" title="Permalink to this headline">¶</a></h3>
<p>The following is an example of a Ranged Virtual Network template:</p>
<p>where:</p>
<ul class="simple">
<li><strong>NETWORK_ADDRESS</strong>: Base network address to generate IP addresses.</li>
<li><strong>NETWORK_SIZE</strong>: Number of hosts that can be connected using this
network. It can be defined either using a number or a network class
(B or C).</li>
</ul>
</div>
</div>
<div class="section" id="adding-and-deleting-virtual-networks">
<h2>Adding and Deleting Virtual Networks<a class="headerlink" href="#adding-and-deleting-virtual-networks" title="Permalink to this headline">¶</a></h2>
<p>Once a template for a VN has been defined, the <tt class="docutils literal"><span class="pre">onevnet</span></tt> command can
be used to create it.</p>
<p>To create the previous networks put their definitions in two different
files, <tt class="docutils literal"><span class="pre">public.net</span></tt> and <tt class="docutils literal"><span class="pre">red.net</span></tt>, respectively. Then, execute:</p>
<p>Also, <tt class="docutils literal"><span class="pre">onevnet</span></tt> can be used to query OpenNebula about available VNs:</p>
<p>with <tt class="docutils literal"><span class="pre">USER</span></tt> the owner of the network and <tt class="docutils literal"><span class="pre">#LEASES</span></tt> the number of
IP-MACs assigned to a VM from this network.</p>
<p>We can see the details of a particular VN:</p>
<div class="highlight-python"><pre>$onevnet show 0

VIRTUAL NETWORK 0 INFORMATION
ID:       : 0
UID:      : 0
PUBLIC    : N

VIRTUAL NETWORK TEMPLATE
BRIDGE=br1
LEASES=[ IP=192.168.1.7 ]
LEASES=[ IP=192.168.1.8 ]
LEASES=[ IP=192.168.1.9 ]
LEASES=[ IP=192.168.1.10 ]
NAME=Small LAN
TYPE=FIXED

LEASES INFORMATION
LEASE=[ IP=192.168.1.7, MAC=02:00:c0:a8:01:07, USED=1, VID=54 ]
LEASE=[ IP=192.168.1.8, MAC=02:00:c0:a8:01:08, USED=1, VID=45 ]
LEASE=[ IP=192.168.1.9, MAC=02:00:c0:a8:01:09, USED=0, VID=-1 ]
LEASE=[ IP=192.168.1.10, MAC=02:00:c0:a8:01:0a, USED=0, VID=-1 ]</pre>
</div>
<p>To delete a virtual network just use <tt class="docutils literal"><span class="pre">onevnet</span> <span class="pre">delete</span></tt>. For example to
delete the previous networks:</p>
<p><a href="#id9"><span class="problematic" id="id10">|:!:|</span></a> Check the <tt class="docutils literal"><span class="pre">onevnet</span></tt> command help or <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:cli#onevnet">reference
guide</a>
for more options to list the virtual networks.</p>
</div>
<div class="section" id="using-the-leases-within-the-virtual-machine">
<h2>Using the Leases Within the Virtual Machine<a class="headerlink" href="#using-the-leases-within-the-virtual-machine" title="Permalink to this headline">¶</a></h2>
<p>Hypervisors can attach a specific MAC address to a virtual network
interface, but Virtual Machines need to obtain an IP address. There are
a variety of ways to achieve this within OpenNebula:</p>
<ul class="simple">
<li>Obtain the IP from the MAC address, using the default MAC assignment
schema (<strong>PREFERRED</strong>)</li>
<li>Use the <tt class="docutils literal"><span class="pre">CONTEXT</span></tt> attribute, check the <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:cong">Contextualization
Guide</a></li>
</ul>
<div class="section" id="configuring-the-virtual-machine-to-use-the-leases">
<h3>Configuring the Virtual Machine to Use the Leases<a class="headerlink" href="#configuring-the-virtual-machine-to-use-the-leases" title="Permalink to this headline">¶</a></h3>
<p>Please visit the <a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:cong">contextualization
guide</a> to learn
how to configure your Virtual Machines.</p>
</div>
</div>
</div>
<div class="section" id="accounting">
<h1>Accounting<a class="headerlink" href="#accounting" title="Permalink to this headline">¶</a></h1>
<p>(<a class="reference external" href="http://opennebula.org/documentation:rel2.0:accounting">http://opennebula.org/documentation:rel2.0:accounting</a>)</p>
<div class="section" id="physical-resources">
<h2>Physical Resources<a class="headerlink" href="#physical-resources" title="Permalink to this headline">¶</a></h2>
<p>Usage of a physical resource can be obtained for a given user or a given
virtual machine. Accounting reports always show aggregated information,
considering possible migration of a virtual machine to between physical
resources.</p>
<p><tt class="docutils literal"><span class="pre">oneacct</span> <span class="pre">host</span></tt> - prints accounting information for the physical
resources</p>
<p>Obtaining the accounting information for user john</p>
<p>The columns are:</p>
<ul class="simple">
<li>XFR: Total transfer time. It includes cloning VM disk images in the
target resource and transfer back of modified images when applicable</li>
<li>RUNN: Total running time. It includes boot, running and saving times</li>
<li>VMS: Total number of virtual machines</li>
</ul>
<p>Obtaining accounting information for host</p>
</div>
<div class="section" id="virtual-resources">
<h2>&nbsp;&nbsp;Virtual Resources<a class="headerlink" href="#virtual-resources" title="Permalink to this headline">¶</a></h2>
<p>Accounting information for Virtual Machines can be obtained for a given
user or a given virtual machine.</p>
<p>The current version of the virtual resources reports does not consider
possible migration of a virtual machine to between physical resources.</p>
<p><tt class="docutils literal"><span class="pre">oneacct</span> <span class="pre">vm</span></tt> - prints accounting information for virtual machines</p>
<p>Obtaining the accounting information for a given VM</p>
<p>The columns are:</p>
<ul class="simple">
<li>HOST: where the VM has been executed</li>
<li>XFR: Total transfer time in that host</li>
<li>RUNN: Total running time in the host</li>
</ul>
<p>Obtaining the accounting information for a given host</p>
<p>Obtaining the accounting information for a given user</p>
<p>In this last example columns show aggregated transfer and running times.</p>
</div>
</div>
<div class="section" id="user-management">
<h1>User Management<a class="headerlink" href="#user-management" title="Permalink to this headline">¶</a></h1>
<p>(<a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:users">http://www.opennebula.org/documentation:rel2.0:users)</a></p>
<div class="section" id="adding-new-users">
<h2>Adding New Users<a class="headerlink" href="#adding-new-users" title="Permalink to this headline">¶</a></h2>
<p>Current Authentication/Authorization module (from now on auth module)
has support for user/password and rsa private/public key authentication
and also user quota support. Here, we are going to talk about the SSH
module and how to add users using SSH keys. More information can be
found in the official documentation:
<a class="reference external" href="http://www.opennebula.org/documentation:rel2.0:users">http://www.opennebula.org/documentation:rel2.0:users</a></p>
<div class="section" id="public-key-extraction-done-by-users">
<h3>Public Key Extraction (Done by Users)<a class="headerlink" href="#public-key-extraction-done-by-users" title="Permalink to this headline">¶</a></h3>
<p>To create a user compatible with <tt class="docutils literal"><span class="pre">ssh</span></tt> option for authentication the
administrator needs to add the user&#8217;s public key into the database. The
file with public key generated by <tt class="docutils literal"><span class="pre">ssh-keygen</span></tt>
(<tt class="docutils literal"><span class="pre">$HOME/.ssh/id_rsa.pub</span></tt>) is written in a format readable by
<tt class="docutils literal"><span class="pre">openssl</span></tt> so the public key should be extracted by the user and sent
to the administrator. The way to extract it is the following:</p>
<p>The string the user has to send to the administrator to create the user
is written to the console.</p>
</div>
<div class="section" id="user-creation-done-by-the-administrator">
<h3>User Creation (done by the administrator)<a class="headerlink" href="#user-creation-done-by-the-administrator" title="Permalink to this headline">¶</a></h3>
<p>After the user sends the rsa public key the administration needs to
create a new account in OpenNebula system. This is done in a similar way
as standard user/password users but using the public key provided by the
user and adding a parameter to the command so the password (in this case
the public key) is stored as is in the database. Here is the command to
create a user called <tt class="docutils literal"><span class="pre">test</span></tt> with the previously extracted public key:</p>
<p>After this the administrator can check that the user is in the system:</p>
</div>
<div class="section" id="user-login-done-by-users">
<h3>User Login (Done by Users)<a class="headerlink" href="#user-login-done-by-users" title="Permalink to this headline">¶</a></h3>
<p>Before performing any action in OpenNebula system the user needs to
login. To do this we must issue this command:</p>
<p>The command on success will print the command needed to execute so
OpenNebula knows where to find the login file generated.</p>
<p>This line can also be added by the user to $HOME/.profile or
$HOME/.bashrc so it is not needed to be executed every new system login.</p>
<p>By default the login file will be valid for one hour. This expire time
can be changed adding another parameter with the number of seconds you
want the login to be valid. For example to create a 2 hours valid login
you can issue this command:</p>
</div>
</div>
<div class="section" id="quota">
<h2>Quota<a class="headerlink" href="#quota" title="Permalink to this headline">¶</a></h2>
<p>When quota module is enabled it checks for user resource consumption
before letting a VM to created in OpenNebula system. You have to take
into account that all resources for VMs listed by <tt class="docutils literal"><span class="pre">onevm</span> <span class="pre">list</span></tt> for a
user are counted as used. Administrator user has unlimited quota.</p>
<div class="section" id="quotas-database-security-done-by-the-administrator">
<h3>Quotas Database Security (Done by the Administrator)<a class="headerlink" href="#quotas-database-security-done-by-the-administrator" title="Permalink to this headline">¶</a></h3>
<p>By default user quota database is an <em>sqlite</em> database located at
<tt class="docutils literal"><span class="pre">$ONE_LOCATION/var/auth.db</span></tt>. This database on creation does not have
secure permissions and the administrator may change its permission and
maybe its location. To change its location you can use a full path to
the database in the auth module configuration file:</p>
<p>You may also change its permissions to <tt class="docutils literal"><span class="pre">0600</span></tt> so the unix user that
runs OpenNebula daemons is the only with read/write access permissions.</p>
</div>
<div class="section" id="default-quotas-done-by-the-administrator">
<h3>Default Quotas (Done by the Administrator)<a class="headerlink" href="#default-quotas-done-by-the-administrator" title="Permalink to this headline">¶</a></h3>
<p>Default quotas for all users are configured as previously stated in
<em>Configuring and Enabling Auth Module</em>. This is the first configuration
you will have to do if you enable quota system as any user without
explicit quotas can only use that amount of resources.</p>
</div>
<div class="section" id="explicit-user-quotas-done-by-the-administrator">
<h3>Explicit User Quotas (Done by the Administrator)<a class="headerlink" href="#explicit-user-quotas-done-by-the-administrator" title="Permalink to this headline">¶</a></h3>
<p>Setting special quotas for a user can be done using <tt class="docutils literal"><span class="pre">oneauth</span></tt> command.
If you have secured the database only unix user that runs OpenNebula
will be able to update them. The steps to change permissions for a user
are as follows:</p>
<ul class="simple">
<li>Find the user id for the user we want to change limits. We are
searching for user <tt class="docutils literal"><span class="pre">test</span></tt>:</li>
</ul>
<ul class="simple">
<li>The user id for <tt class="docutils literal"><span class="pre">test</span></tt> is 1. Now we use
<tt class="docutils literal"><span class="pre">oneauth</span> <span class="pre">quota</span> <span class="pre">set</span> <span class="pre">&lt;user</span> <span class="pre">id&gt;</span> <span class="pre">&lt;cpu&gt;</span> <span class="pre">&lt;memory&gt;</span></tt> to change user limits:</li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, FutureGrid, please contact Gregor von Laszewski about this manual..<br/>
    </p>
  </div>
</footer>
  </body>
</html>